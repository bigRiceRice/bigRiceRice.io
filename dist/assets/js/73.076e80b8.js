(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{378:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ğŸŒ -ä»€ä¹ˆæ˜¯-hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ -ä»€ä¹ˆæ˜¯-hooks"}},[t._v("#")]),t._v(" ğŸŒ  ä»€ä¹ˆæ˜¯ Hooks")]),t._v(" "),s("p",[s("em",[t._v("Hook")]),t._v(" æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚")]),t._v(" "),s("p",[t._v("ä¸‹é¢å°±è®©æˆ‘ä»¬æ¥äº†è§£ React é‚£äº›å¸¸ç”¨çš„ Hook å§ï¼")]),t._v(" "),s("p",[t._v("æ¯”å¦‚ "),s("code",[t._v("useState")]),t._v(" å°±æ˜¯ä¸€ä¸ª "),s("em",[t._v("Hook")])]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Example")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å£°æ˜ä¸€ä¸ªæ–°çš„å«åš â€œcountâ€ çš„ state å˜é‡")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("You clicked ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" times")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        Click me\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("em",[t._v("Hook")]),t._v(" å…¶å®å°±æ˜¯ JavaScript å‡½æ•°ï¼Œä½†æ˜¯ä½¿ç”¨å®ƒä»¬ä¼šæœ‰ä¸¤ä¸ªé¢å¤–çš„è§„åˆ™ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("åªèƒ½åœ¨"),s("strong",[t._v("å‡½æ•°æœ€å¤–å±‚")]),t._v("è°ƒç”¨ Hookã€‚ä¸èƒ½åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨ã€‚")]),t._v(" "),s("li",[t._v("åªèƒ½åœ¨ "),s("strong",[t._v("React çš„å‡½æ•°ç»„ä»¶")]),t._v("ä¸­è°ƒç”¨ Hookã€‚ä¸èƒ½åœ¨å…¶ä»–æ™®é€š JavaScript å‡½æ•°ä¸­è°ƒç”¨ã€‚")])]),t._v(" "),s("p",[t._v("åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œè¯·è®°ä½ Hook æ˜¯ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å®Œå…¨å¯é€‰çš„ã€‚")]),t._v(" ä½ æ— éœ€é‡å†™ä»»ä½•å·²æœ‰ä»£ç å°±å¯ä»¥åœ¨ä¸€äº›ç»„ä»¶ä¸­å°è¯• Hookã€‚ä½†æ˜¯å¦‚æœä½ ä¸æƒ³ï¼Œä½ ä¸å¿…ç°åœ¨å°±å»å­¦ä¹ æˆ–ä½¿ç”¨ Hookã€‚")]),t._v(" "),s("li",[s("strong",[t._v("100% å‘åå…¼å®¹çš„ã€‚")]),t._v(" Hook ä¸åŒ…å«ä»»ä½•ç ´åæ€§æ”¹åŠ¨ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("ç°åœ¨å¯ç”¨ã€‚")]),t._v(" Hook å·²å‘å¸ƒäº v16.8.0ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("æ²¡æœ‰è®¡åˆ’ä» React ä¸­ç§»é™¤ classã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("Hook ä¸ä¼šå½±å“ä½ å¯¹ React æ¦‚å¿µçš„ç†è§£ã€‚")]),t._v(" æ°æ°ç›¸åï¼ŒHook ä¸ºå·²çŸ¥çš„ React æ¦‚å¿µæä¾›äº†æ›´ç›´æ¥çš„ APIï¼špropsï¼Œ stateï¼Œcontextï¼Œrefs ä»¥åŠç”Ÿå‘½å‘¨æœŸã€‚ç¨åæˆ‘ä»¬å°†çœ‹åˆ°ï¼ŒHook è¿˜æä¾›äº†ä¸€ç§æ›´å¼ºå¤§çš„æ–¹å¼æ¥ç»„åˆä»–ä»¬ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä¸ºä»€ä¹ˆéœ€è¦-hook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆéœ€è¦-hook"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆéœ€è¦ "),s("em",[t._v("Hook")]),t._v(" ï¼Ÿ")]),t._v(" "),s("p",[t._v("Hook è§£å†³äº†æˆ‘ä»¬äº”å¹´æ¥ç¼–å†™å’Œç»´æŠ¤æˆåƒä¸Šä¸‡çš„ç»„ä»¶æ—¶é‡åˆ°çš„å„ç§å„æ ·çœ‹èµ·æ¥ä¸ç›¸å…³çš„é—®é¢˜ã€‚æ— è®ºä½ æ­£åœ¨å­¦ä¹  Reactï¼Œæˆ–æ¯å¤©ä½¿ç”¨ï¼Œæˆ–è€…æ›´æ„¿å°è¯•å¦ä¸€ä¸ªå’Œ React æœ‰ç›¸ä¼¼ç»„ä»¶æ¨¡å‹çš„æ¡†æ¶ï¼Œä½ éƒ½å¯èƒ½å¯¹è¿™äº›é—®é¢˜ä¼¼æ›¾ç›¸è¯†ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä¸€ã€æƒ³è¦å¤ç”¨ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶å¤ªéº»çƒ¦äº†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€æƒ³è¦å¤ç”¨ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶å¤ªéº»çƒ¦äº†"}},[t._v("#")]),t._v(" ä¸€ã€æƒ³è¦å¤ç”¨ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶å¤ªéº»çƒ¦äº†ï¼")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬éƒ½çŸ¥é“ react çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼Œ"),s("strong",[t._v("å°†ä¸€ä¸ªé¡µé¢æ‹†æˆä¸€å †ç‹¬ç«‹çš„ï¼Œå¯å¤ç”¨çš„ç»„ä»¶")]),t._v("ï¼Œå¹¶ä¸”ç”¨è‡ªä¸Šè€Œä¸‹çš„å•å‘æ•°æ®æµçš„å½¢å¼å°†è¿™äº›ç»„ä»¶ä¸²è”èµ·æ¥ã€‚")]),t._v(" "),s("p",[t._v("ä½†å‡å¦‚ä½ åœ¨å¤§å‹çš„å·¥ä½œé¡¹ç›®ä¸­ç”¨ reactï¼Œä½ ä¼šå‘ç°ä½ çš„é¡¹ç›®ä¸­å®é™…ä¸Šå¾ˆå¤š react ç»„ä»¶å†—é•¿ä¸”éš¾ä»¥å¤ç”¨ã€‚å°¤å…¶æ˜¯é‚£äº›å†™æˆclassçš„ç»„ä»¶ï¼Œå®ƒä»¬æœ¬èº«åŒ…å«äº†çŠ¶æ€ï¼ˆstateï¼‰ï¼Œæ‰€ä»¥å¤ç”¨è¿™ç±»ç»„ä»¶å°±å˜å¾—å¾ˆéº»çƒ¦ã€‚")]),t._v(" "),s("p",[t._v("é‚£ä¹‹å‰ï¼Œå®˜æ–¹æ¨èæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼š"),s("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Freactjs.org%2Fdocs%2Frender-props.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¸²æŸ“å±æ€§ï¼ˆRender Propsï¼‰"),s("OutboundLink")],1),t._v("å’Œ"),s("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Freactjs.org%2Fdocs%2Fhigher-order-components.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("é«˜é˜¶ç»„ä»¶ï¼ˆHigher-Order Componentsï¼‰"),s("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),s("p",[t._v("ä½†æ˜¯è¿™ç±»æ–¹æ¡ˆéœ€è¦é‡æ–°ç»„ç»‡ä½ çš„ç»„ä»¶ç»“æ„ï¼Œè¿™å¯èƒ½ä¼šå¾ˆéº»çƒ¦ï¼Œä½¿ä½ çš„ä»£ç éš¾ä»¥ç†è§£ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœä½ åœ¨ React DevTools ä¸­è§‚å¯Ÿè¿‡ React åº”ç”¨ï¼Œä½ ä¼šå‘ç°ç”± providersï¼Œconsumersï¼Œé«˜é˜¶ç»„ä»¶ï¼Œrender props ç­‰å…¶ä»–æŠ½è±¡å±‚ç»„æˆçš„ç»„ä»¶ä¼šå½¢æˆâ€œ"),s("strong",[t._v("åµŒå¥—åœ°ç‹±")]),t._v("â€œï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301151749461.webp"}}),t._v(" "),s("p",[t._v("å°½ç®¡æˆ‘ä»¬å¯ä»¥"),s("a",{attrs:{href:"https://github.com/facebook/react-devtools/pull/503",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨ DevTools è¿‡æ»¤æ‰å®ƒä»¬"),s("OutboundLink")],1),t._v("ï¼Œä½†è¿™è¯´æ˜äº†ä¸€ä¸ªæ›´æ·±å±‚æ¬¡çš„é—®é¢˜ï¼š"),s("strong",[t._v("React éœ€è¦ä¸ºå…±äº«çŠ¶æ€é€»è¾‘æä¾›æ›´å¥½çš„åŸç”Ÿé€”å¾„")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("ä½†ä½ å¯ä»¥ä½¿ç”¨ Hook ä»ç»„ä»¶ä¸­æå–çŠ¶æ€é€»è¾‘ï¼Œä½¿å¾—è¿™äº›é€»è¾‘å¯ä»¥å•ç‹¬æµ‹è¯•å¹¶å¤ç”¨ã€‚"),s("strong",[t._v("Hook ä½¿ä½ åœ¨æ— éœ€ä¿®æ”¹ç»„ä»¶ç»“æ„çš„æƒ…å†µä¸‹å¤ç”¨çŠ¶æ€é€»è¾‘ã€‚")]),t._v(" è¿™ä½¿å¾—åœ¨ç»„ä»¶é—´æˆ–ç¤¾åŒºå†…å…±äº« Hook å˜å¾—æ›´ä¾¿æ·ã€‚")]),t._v(" "),s("h3",{attrs:{id:"äºŒã€ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œçš„é€»è¾‘å¤ªä¹±äº†å§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œçš„é€»è¾‘å¤ªä¹±äº†å§"}},[t._v("#")]),t._v(" äºŒã€ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œçš„é€»è¾‘å¤ªä¹±äº†å§ï¼")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬é€šå¸¸å¸Œæœ›ä¸€ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹æƒ…ï¼Œä½†æˆ‘ä»¬çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œé€šå¸¸åŒæ—¶åšäº†å¾ˆå¤šäº‹æƒ…ã€‚")]),t._v(" "),s("p",[t._v("æ¯”å¦‚æˆ‘ä»¬éœ€è¦åœ¨ "),s("code",[t._v("componentDidMount")]),t._v(" ä¸­å‘èµ· ajax è¯·æ±‚è·å–æ•°æ®ï¼Œç»‘å®šä¸€äº›äº‹ä»¶ç›‘å¬ç­‰ç­‰ã€‚åŒæ—¶ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦åœ¨"),s("code",[t._v("componentDidUpdate")]),t._v(" åšä¸€éåŒæ ·çš„äº‹æƒ…ã€‚å½“é¡¹ç›®å˜å¤æ‚åï¼Œä¹¦å†™è¿™ç§é‡å¤çš„ä»£ç æ˜¯å¾ˆæµªè´¹æ—¶é—´çš„ã€‚")]),t._v(" "),s("p",[t._v("ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ"),s("strong",[t._v("Hook å°†ç»„ä»¶ä¸­ç›¸äº’å…³è”çš„éƒ¨åˆ†æ‹†åˆ†æˆæ›´å°çš„å‡½æ•°ï¼ˆæ¯”å¦‚è®¾ç½®è®¢é˜…æˆ–è¯·æ±‚æ•°æ®ï¼‰")]),t._v("ï¼Œè€Œå¹¶éå¼ºåˆ¶æŒ‰ç…§ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨ reducer æ¥ç®¡ç†ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ï¼Œä½¿å…¶æ›´åŠ å¯é¢„æµ‹ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä¸‰ã€class-çœŸçš„å¤ªè®©äººå›°æƒ‘äº†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€class-çœŸçš„å¤ªè®©äººå›°æƒ‘äº†"}},[t._v("#")]),t._v(" ä¸‰ã€class çœŸçš„å¤ªè®©äººå›°æƒ‘äº†ï¼")]),t._v(" "),s("p",[t._v("é™¤äº†ä»£ç å¤ç”¨å’Œä»£ç ç®¡ç†ä¼šé‡åˆ°å›°éš¾å¤–ï¼Œclass æ˜¯å­¦ä¹  React çš„ä¸€å¤§å±éšœã€‚ä½ å¿…é¡»å»ç†è§£ JavaScript ä¸­ "),s("code",[t._v("this")]),t._v(" çš„å·¥ä½œæ–¹å¼ï¼Œè¿™ä¸å…¶ä»–è¯­è¨€å­˜åœ¨å·¨å¤§å·®å¼‚ã€‚")]),t._v(" "),s("p",[t._v("è€Œä¸”ä½ è¿˜ä¸èƒ½å¿˜è®°ç»‘å®šäº‹ä»¶å¤„ç†å™¨ã€‚å¦‚æœä¸ä½¿ç”¨ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Public_class_fields#public_instance_fields",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES2022 public class fields"),s("OutboundLink")],1),t._v("ï¼Œè¿™äº›ä»£ç éå¸¸å†—ä½™ã€‚å¤§å®¶å¯ä»¥å¾ˆå¥½åœ°ç†è§£ propsï¼Œstate å’Œè‡ªé¡¶å‘ä¸‹çš„æ•°æ®æµï¼Œä½†å¯¹ class å´ä¸€ç­¹è«å±•ã€‚")]),t._v(" "),s("p",[t._v("å³ä¾¿åœ¨æœ‰ç»éªŒçš„ React å¼€å‘è€…ä¹‹é—´ï¼Œå¯¹äºå‡½æ•°ç»„ä»¶ä¸ class ç»„ä»¶çš„å·®å¼‚ä¹Ÿå­˜åœ¨åˆ†æ­§ï¼Œç”šè‡³è¿˜è¦åŒºåˆ†ä¸¤ç§ç»„ä»¶çš„ä½¿ç”¨åœºæ™¯ã€‚")]),t._v(" "),s("p",[t._v("ä¸ºäº†è§£å†³ä»¥ä¸Šè¿™äº›é—®é¢˜ï¼Œ"),s("strong",[t._v("Hook ä½¿ä½ åœ¨é class çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨æ›´å¤šçš„ React ç‰¹æ€§ã€‚")])]),t._v(" "),s("p",[t._v("ä»æ¦‚å¿µä¸Šè®²ï¼ŒReact ç»„ä»¶ä¸€ç›´æ›´åƒæ˜¯å‡½æ•°ã€‚è€Œ Hook åˆ™æ‹¥æŠ±äº†å‡½æ•°ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰ç‰ºç‰² React çš„ç²¾ç¥åŸåˆ™ã€‚Hook æä¾›äº†é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œæ— éœ€å­¦ä¹ å¤æ‚çš„å‡½æ•°å¼æˆ–å“åº”å¼ç¼–ç¨‹æŠ€æœ¯ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä¸€äº›å¸¸ç”¨çš„-hook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€äº›å¸¸ç”¨çš„-hook"}},[t._v("#")]),t._v(" ä¸€äº›å¸¸ç”¨çš„ "),s("em",[t._v("Hook")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ§-usestate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§-usestate"}},[t._v("#")]),t._v(" ğŸ§ "),s("em",[t._v("useState")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("useState")]),t._v(" çš„ç”¨æ³•ä¸ Vue3 çš„ "),s("code",[t._v("ref")]),t._v(" å‡½æ•°ç±»ä¼¼ï¼Œä¸è¿‡å®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«"),s("strong",[t._v("å½“å‰")]),t._v("çŠ¶æ€å’Œä¸€ä¸ªè®©ä½ æ›´æ–°å®ƒçš„å‡½æ•°ã€‚")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("initialState")]),t._v("ï¼š"),s("strong",[t._v("å¿…éœ€")]),t._v("ï¼Œè®¾ç½®åˆå§‹å€¼")]),t._v(" "),s("li",[s("code",[t._v("state")]),t._v("ï¼šåˆå§‹å€¼çš„çŠ¶æ€å¼•ç”¨")]),t._v(" "),s("li",[s("code",[t._v("setState")]),t._v("ï¼šæ›´æ–°çŠ¶æ€çš„å‡½æ•°")])]),t._v(" "),s("h4",{attrs:{id:"å…³äº-setstate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äº-setstate"}},[t._v("#")]),t._v(" å…³äº "),s("em",[t._v("setState")])]),t._v(" "),s("p",[t._v("è¯­æ³•ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("updater"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nupdater "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("lastState")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" state "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("å¦‚æœæ–°çš„ state éœ€è¦é€šè¿‡ä½¿ç”¨å…ˆå‰çš„ state è®¡ç®—å¾—å‡ºï¼Œé‚£ä¹ˆå¯ä»¥å°†å‡½æ•°ä¼ é€’ç»™ "),s("code",[t._v("setState")]),t._v("ã€‚è¯¥å‡½æ•°å°†æ¥æ”¶å…ˆå‰çš„ stateï¼Œå¹¶è¿”å›ä¸€ä¸ªæ›´æ–°åçš„å€¼ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("ğŸ”´ æ³¨æ„ï¼š")]),t._v(" "),s("p",[t._v("ä¸ç±»ç»„ä»¶ä¸­çš„ "),s("code",[t._v("setState")]),t._v(" æ–¹æ³•ä¸åŒï¼Œ"),s("code",[t._v("useState")]),t._v(" "),s("em",[t._v("Hook")]),t._v(" çš„ "),s("code",[t._v("setState")]),t._v(" çš„è¡Œä¸ºå°†æ˜¯ç›´æ¥æ›¿æ¢åŸçŠ¶æ€ï¼Œä¸”"),s("strong",[t._v("åœ¨æ–°æ—§çŠ¶æ€å¼•ç”¨åœ°å€ä¸å˜çš„æƒ…å†µä¸‹")]),t._v("ï¼Œå°†ä¸ä¼šè§¦å‘æ¨¡æ¿æ›´æ–°ï¼ï¼")]),t._v(" "),s("p",[t._v("ä½ å¯ä»¥ç”¨å‡½æ•°å¼çš„ "),s("code",[t._v("setState")]),t._v(" ç»“åˆå±•å¼€è¿ç®—ç¬¦æ¥è¾¾åˆ°åˆå¹¶æ›´æ–°å¯¹è±¡çš„æ•ˆæœã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevState")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¹Ÿå¯ä»¥ä½¿ç”¨ Object.assign")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…é¡»æ›´æ–°åŸçŠ¶æ€çš„å¼•ç”¨åœ°å€ï¼Œä¸ç„¶å°†ä¸ä¼šè§¦å‘æ¨¡æ¿æ›´æ–°ï¼ï¼ï¼")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("prevState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("updatedValues"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),s("h4",{attrs:{id:"å…³äº-initialstate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äº-initialstate"}},[t._v("#")]),t._v(" å…³äº "),s("em",[t._v("initialState")])]),t._v(" "),s("p",[s("em",[t._v("initialState")]),t._v(" ç”¨äºåˆå§‹åŒ–ä¸€ä¸ª state çŠ¶æ€ï¼Œä½†ä¸€å®šä¸è¦å†™æˆè¿™æ ·çš„å½¢å¼ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‡è®¾æˆ‘ä»¬çš„ state éœ€è¦ç»è¿‡å¤§é‡çš„è®¡ç®—")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clacState")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10086")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clacState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸ”´")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("State")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*...*/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("State")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸ”´")]),t._v("\n")])])]),s("p",[t._v("ä¸è¦ç›´æ¥åœ¨ "),s("em",[t._v("initialState")]),t._v(" ä¸­ç›´æ¥è°ƒç”¨å‡½æ•°æˆ–è°ƒç”¨ä¸€ä¸ªç±»çš„åˆå§‹åŒ–å‡½æ•°ï¼Œè¿™å°†å½±å“æ€§èƒ½ä¸”å¯èƒ½ä¼šé€ æˆä¸ºæ­¢çš„ BUGï¼Œå› ä¸ºæ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“éƒ½ä¼šé‡æ–°è°ƒç”¨ã€‚")]),t._v(" "),s("p",[t._v("è€Œä¸” "),s("em",[t._v("initialState")]),t._v(" æ˜¯å¯ä»¥æƒ°æ€§åˆå§‹åŒ–çš„ã€‚ä¸Šè¿°ä»£ç åº”è¯¥ä¿®æ”¹æˆå¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‡è®¾æˆ‘ä»¬çš„ state éœ€è¦ç»è¿‡å¤§é‡çš„è®¡ç®—")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clacState")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10086")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" clacState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸŸ¢")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("State")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*...*/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("State")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸ”´")]),t._v("\n")])])]),s("h3",{attrs:{id:"ğŸ—-usereducer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ—-usereducer"}},[t._v("#")]),t._v(" ğŸ— "),s("em",[t._v("useReducer")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dispatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useReducer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initialArg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("reducer")]),t._v("ï¼š"),s("strong",[t._v("å¿…éœ€")]),t._v("ï¼ŒçŠ¶æ€çš„è§„åˆ™")]),t._v(" "),s("li",[s("code",[t._v("initialArg")]),t._v("ï¼š"),s("strong",[t._v("å¿…éœ€")]),t._v("ï¼ŒçŠ¶æ€çš„åˆå§‹å€¼")]),t._v(" "),s("li",[s("code",[t._v("init")]),t._v("ï¼šå¯é€‰ï¼ŒçŠ¶æ€çš„æƒ°æ€§åˆå§‹åŒ–å‡½æ•°")]),t._v(" "),s("li",[s("code",[t._v("state")]),t._v("ï¼šæœ€æ–°çš„çŠ¶æ€")]),t._v(" "),s("li",[s("code",[t._v("dispatch")]),t._v("ï¼šè°ƒç”¨è§„åˆ™çš„å‡½æ•°ï¼Œè¯­æ³•ä¸º "),s("code",[t._v("dispatch({type: 'xxx'})}")])])]),t._v(" "),s("p",[s("code",[t._v("useReducer")]),t._v(" ä¸º "),s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-reference.html#usestate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("useState")]),s("OutboundLink")],1),t._v(" çš„æ›¿ä»£æ–¹æ¡ˆã€‚å®ƒæ¥æ”¶ä¸€ä¸ªå½¢å¦‚ "),s("code",[t._v("(state, action) => newState")]),t._v(" çš„ reducerï¼Œå¹¶è¿”å›å½“å‰çš„ state ä»¥åŠä¸å…¶é…å¥—çš„ "),s("code",[t._v("dispatch")]),t._v(" æ–¹æ³•ã€‚ï¼ˆå¦‚æœä½ ç†Ÿæ‚‰ Redux çš„è¯ï¼Œå°±å·²ç»çŸ¥é“å®ƒå¦‚ä½•å·¥ä½œäº†ã€‚ï¼‰")]),t._v(" "),s("p",[t._v("åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œ"),s("code",[t._v("useReducer")]),t._v(" ä¼šæ¯” "),s("code",[t._v("useState")]),t._v(" æ›´é€‚ç”¨ï¼Œä¾‹å¦‚ state é€»è¾‘è¾ƒå¤æ‚ä¸”åŒ…å«å¤šä¸ªå­å€¼ï¼Œæˆ–è€…ä¸‹ä¸€ä¸ª state ä¾èµ–äºä¹‹å‰çš„ state ç­‰ã€‚")]),t._v(" "),s("p",[t._v("å¹¶ä¸”ï¼Œä½¿ç”¨ "),s("code",[t._v("useReducer")]),t._v(" è¿˜èƒ½ç»™é‚£äº›ä¼šè§¦å‘æ·±æ›´æ–°çš„ç»„ä»¶åšæ€§èƒ½ä¼˜åŒ–ï¼Œå› ä¸º"),s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-to-avoid-passing-callbacks-down",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½ å¯ä»¥ä»…å‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ª "),s("code",[t._v("dispatch")]),t._v(" è€Œä¸æ˜¯å¤šä¸ªå›è°ƒå‡½æ•°"),s("OutboundLink")],1),t._v(" ã€‚")]),t._v(" "),s("p",[t._v("ä»¥ä¸‹ä¸ºä¸€ä¸ªè®¡æ•°å™¨ä¾‹å­ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" initialState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reducer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'decrement'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Counter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dispatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useReducer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      Count: ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'decrement'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"æƒ°æ€§åˆå§‹åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æƒ°æ€§åˆå§‹åŒ–"}},[t._v("#")]),t._v(" æƒ°æ€§åˆå§‹åŒ–")]),t._v(" "),s("p",[t._v("ä½ å¯ä»¥é€‰æ‹©æƒ°æ€§åœ°åˆ›å»ºåˆå§‹ stateã€‚ä¸ºæ­¤ï¼Œéœ€è¦å°† "),s("code",[t._v("init")]),t._v(" å‡½æ•°ä½œä¸º "),s("code",[t._v("useReducer")]),t._v(" çš„ç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥ï¼Œè¿™æ ·åˆå§‹ state å°†è¢«è®¾ç½®ä¸º "),s("code",[t._v("init(initialArg)")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("è¿™ä¹ˆåšå¯ä»¥å°†ç”¨äºè®¡ç®— state çš„é€»è¾‘æå–åˆ° reducer å¤–éƒ¨ï¼Œè¿™ä¹Ÿä¸ºå°†æ¥å¯¹é‡ç½® state çš„ action åšå¤„ç†æä¾›äº†ä¾¿åˆ©ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("initialCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" initialCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reducer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'decrement'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reset'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("payload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Counter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("initialCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dispatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useReducer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initialCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      Count: ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reset'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("payload")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" initialCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        Reset\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'decrement'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"ğŸ¤-useeffect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¤-useeffect"}},[t._v("#")]),t._v(" ğŸ¤ "),s("em",[t._v("useEffect")])]),t._v(" "),s("p",[t._v("ä½ ä¹‹å‰å¯èƒ½å·²ç»åœ¨ React ç»„ä»¶ä¸­æ‰§è¡Œè¿‡æ•°æ®è·å–ã€è®¢é˜…æˆ–è€…æ‰‹åŠ¨ä¿®æ”¹è¿‡ DOMã€‚æˆ‘ä»¬ç»Ÿä¸€æŠŠè¿™äº›æ“ä½œç§°ä¸ºâ€œå‰¯ä½œç”¨â€ï¼Œæˆ–è€…ç®€ç§°ä¸ºâ€œä½œç”¨â€ã€‚")]),t._v(" "),s("p",[s("code",[t._v("useEffect")]),t._v(" å°±æ˜¯ä¸€ä¸ª Effect Hookï¼Œç»™å‡½æ•°ç»„ä»¶å¢åŠ äº†æ“ä½œå‰¯ä½œç”¨çš„èƒ½åŠ›ã€‚å®ƒè·Ÿ class ç»„ä»¶ä¸­çš„ "),s("code",[t._v("componentDidMount")]),t._v("ã€"),s("code",[t._v("componentDidUpdate")]),t._v(" å’Œ "),s("code",[t._v("componentWillUnmount")]),t._v(" å…·æœ‰ç›¸åŒçš„ç”¨é€”ï¼ˆæ³¨æ„ï¼šæŸäº›è¡Œä¸ºå¹¶ä¸å®Œå…¨ç›¸åŒï¼‰ï¼Œåªä¸è¿‡è¢«åˆå¹¶æˆäº†ä¸€ä¸ª APIã€‚")]),t._v(" "),s("p",[t._v("ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªç»„ä»¶åœ¨ React æ›´æ–° DOM åä¼šè®¾ç½®ä¸€ä¸ªé¡µé¢æ ‡é¢˜ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useEffect "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Example")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("You clicked ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(" times")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"useeffect-è§£ç»‘å‰¯ä½œç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#useeffect-è§£ç»‘å‰¯ä½œç”¨"}},[t._v("#")]),t._v(" "),s("em",[t._v("useEffect")]),t._v(" è§£ç»‘å‰¯ä½œç”¨")]),t._v(" "),s("p",[t._v("è¿™ç§åœºæ™¯å¾ˆå¸¸è§ï¼Œå½“æˆ‘ä»¬åœ¨ "),s("code",[t._v("componentDidMount")]),t._v(" é‡Œæ·»åŠ äº†ä¸€ä¸ªäº‹ä»¶ç›‘å¬æˆ–å®šæ—¶å™¨ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ "),s("code",[t._v("componentWillUnmount")]),t._v(" ä¸­ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶è¢«æ³¨é”€ä¹‹å‰æ¸…é™¤æ‰æˆ‘ä»¬æ·»åŠ çš„äº‹ä»¶ç›‘å¬æˆ–å®šæ—¶å™¨ï¼Œå¦åˆ™å†…å­˜æ³„æ¼çš„é—®é¢˜å°±å‡ºç°äº†ã€‚")]),t._v(" "),s("p",[t._v("é‚£ä¹ˆåº”è¯¥å¦‚ä½•è§£ç»‘å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("åªéœ€è¦åœ¨ "),s("code",[t._v("useEffect")]),t._v(" ä¸­è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°å³å¯ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå°†åœ¨é‡æ–°æ¸²æŸ“å‰è°ƒç”¨")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("è¿™é‡Œæœ‰ä¸€ä¸ªç‚¹"),s("strong",[t._v("éœ€è¦é‡è§†")]),t._v("ï¼Œ"),s("code",[t._v("useEffect")]),t._v(" ä¸­è¿”å›çš„å‡½æ•° "),s("strong",[t._v("ä¸ï¼ç­‰ï¼äºï¼")]),t._v(" "),s("code",[t._v("componentWillUnmount")]),t._v("ã€‚")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("componentWillUnmount")]),t._v(" åªä¼šåœ¨ç»„ä»¶"),s("strong",[t._v("è¢«é”€æ¯å‰æ‰§è¡Œä¸€æ¬¡")]),t._v("ï¼ˆç‹­ä¹‰ä¸Šçš„ç»„ä»¶æ­»äº†â€” çœŸæ­£å¸è½½ï¼‰ã€‚")]),t._v(" "),s("li",[s("code",[t._v("useEffect")]),t._v(" ä¸­è¿”å›çš„å‡½æ•°æ˜¯åœ¨ç»„ä»¶"),s("strong",[t._v("é‡æ–°æ¸²æŸ“å‰æ‰§è¡Œ")]),t._v("çš„ï¼ˆå¹¿ä¹‰ä¸Šçš„ç»„ä»¶æ­»äº† â€” é‡æ–°æ¸²æŸ“ï¼‰ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°"}},[t._v("#")]),t._v(" æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°")]),t._v(" "),s("p",[t._v("å‡å¦‚æ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½è¦æ‰§è¡Œä¸€éè¿™äº›å‰¯ä½œç”¨å‡½æ•°ï¼Œæ˜¾ç„¶æ˜¯ä¸ç»æµä¸”æµªè´¹æ€§èƒ½çš„ã€‚æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„è®¡ç®—å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬åªéœ€è¦ç»™ useEffect ä¼ ç¬¬äºŒä¸ªä¾èµ–é¡¹å‚æ•°å³å¯ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("è‹¥ä¼ å€¼ï¼Œå¿…é¡»ä¸ºæ•°ç»„å½¢å¼æˆ–ç©ºæ•°ç»„ã€‚")])]),t._v(" "),s("p",[t._v("ç”¨ç¬¬äºŒä¸ªå‚æ•°æ¥å‘Šè¯‰ react åªæœ‰å½“è¿™ä¸ªä¾èµ–é¡¹å‚æ•°çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰æ‰§è¡Œæˆ‘ä»¬ä¼ çš„å‰¯ä½œç”¨å‡½æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ã€‚")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("You clicked ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(" times")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªæœ‰å½“countçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°æ‰§è¡Œ`document.title`è¿™ä¸€æ¡ä»£ç ")]),t._v("\n")])])]),s("p",[t._v("å½“æˆ‘ä»¬ç¬¬äºŒä¸ªå‚æ•°ä¼ ä¸€ä¸ªç©ºæ•°ç»„ "),s("code",[t._v("[]")]),t._v(" æ—¶ï¼Œå…¶å®å°±ç›¸å½“äºåªåœ¨é¦–æ¬¡æ¸²æŸ“ï¼ˆ"),s("code",[t._v("componentDidMount")]),t._v("ï¼‰çš„æ—¶å€™æ‰§è¡Œã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("ä¸è¿‡è¿™ç§ç”¨æ³•å¯èƒ½å¸¦æ¥ "),s("code",[t._v("bug")])]),t._v(" "),s("p",[t._v("è¯¦æƒ…å¯ä»¥å‚è€ƒ "),s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#is-it-safe-to-omit-functions-from-the-list-of-dependencies",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨ä¾èµ–åˆ—è¡¨ä¸­çœç•¥å‚æ•°æ˜¯å¦å®‰å…¨ï¼Ÿ"),s("OutboundLink")],1)])]),t._v(" "),s("h4",{attrs:{id:"ä½¿ç”¨å¤šä¸ª-effect-å®ç°å…³æ³¨ç‚¹åˆ†ç¦»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨å¤šä¸ª-effect-å®ç°å…³æ³¨ç‚¹åˆ†ç¦»"}},[t._v("#")]),t._v(" ä½¿ç”¨å¤šä¸ª Effect å®ç°å…³æ³¨ç‚¹åˆ†ç¦»")]),t._v(" "),s("p",[t._v("ä½¿ç”¨ Hook å…¶ä¸­ä¸€ä¸ª"),s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-intro.html#complex-components-become-hard-to-understand",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç›®çš„"),s("OutboundLink")],1),t._v("å°±æ˜¯è¦è§£å†³ class ä¸­ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç»å¸¸åŒ…å«ä¸ç›¸å…³çš„é€»è¾‘ï¼Œä½†åˆæŠŠç›¸å…³é€»è¾‘åˆ†ç¦»åˆ°äº†å‡ ä¸ªä¸åŒæ–¹æ³•ä¸­çš„é—®é¢˜ã€‚å¯æ˜¯ "),s("code",[t._v("useEffect")]),t._v(" æ‰€è¿è¡Œçš„æ–¹å¼å®åœ¨æ˜¯å¤šæ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¤šæ¬¡è°ƒç”¨ "),s("code",[t._v("useEffect")]),t._v(" ï¼Œè¿™ä¼šå°†ä¸ç›¸å…³é€»è¾‘åˆ†ç¦»åˆ°ä¸åŒçš„ effect ä¸­ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™ä¸ª effect åªåœ¨æ¯æ¬¡æŒ‚è½½å‰éƒ½æ‰§è¡Œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™ä¸ª effect åªåœ¨é‡æ–°æ¸²æŸ“å‰æ‰§è¡Œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™ä¸ª effect å……å½“ watchEffect(vue)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("xx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("xxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("xxxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])]),s("h3",{attrs:{id:"ğŸ¥—-usecontext"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¥—-usecontext"}},[t._v("#")]),t._v(" ğŸ¥— "),s("em",[t._v("useContext")])]),t._v(" "),s("p",[t._v("æ¥æ”¶ä¸€ä¸ª context å¯¹è±¡ï¼ˆ"),s("code",[t._v("React.createContext")]),t._v(" çš„è¿”å›å€¼ï¼‰å¹¶è¿”å›è¯¥ context çš„å½“å‰å€¼ã€‚å½“å‰çš„ context å€¼ç”±ä¸Šå±‚ç»„ä»¶ä¸­è·ç¦»å½“å‰ç»„ä»¶æœ€è¿‘çš„ "),s("code",[t._v("<MyContext.Provider>")]),t._v(" çš„ "),s("code",[t._v("value")]),t._v(" prop å†³å®šã€‚")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬éƒ½çŸ¥é“ "),s("code",[t._v("MyContext.Provider")]),t._v(" ç”¨äºæä¾›æ•°æ®ï¼Œè€Œ "),s("code",[t._v("MyContext.Consumer")]),t._v(" ç”¨äºè·å–æ•°æ®ï¼Œé‚£ä¹ˆ "),s("code",[t._v("useContext")]),t._v(" å…¶å®å°±æ˜¯ä¸“é—¨ç»™æ— çŠ¶æ€ç»„ä»¶ç”¨äºè·å– "),s("code",[t._v("MyContext")]),t._v(" æ•°æ®çš„ APIã€‚")]),t._v(" "),s("p",[t._v("é¦–å…ˆé¡¶çº§ç»„ä»¶ä¸€å®šè¦å°† "),s("code",[t._v("createContext")]),t._v(" è¿”å›çš„å¯¹è±¡æš´éœ²ç»™éœ€è¦ä½¿ç”¨æ•°æ®çš„å­ç»„ä»¶ï¼Œç„¶åå°† "),s("code",[t._v("Context")]),t._v(" ä¼ é€’ç»™ "),s("code",[t._v("useContext")]),t._v(" ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Context "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./App"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("setName "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"æ³¨æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨æ„"}},[t._v("#")]),t._v(" æ³¨æ„ï¼š")]),t._v(" "),s("p",[t._v("åˆ«å¿˜è®° "),s("code",[t._v("useContext")]),t._v(" çš„å‚æ•°å¿…é¡»æ˜¯ "),s("em",[t._v("context å¯¹è±¡æœ¬èº«")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("æ­£ç¡®ï¼š")]),t._v(" "),s("code",[t._v("useContext(MyContext)")])]),t._v(" "),s("li",[s("strong",[t._v("é”™è¯¯ï¼š")]),t._v(" "),s("code",[t._v("useContext(MyContext.Consumer)")])]),t._v(" "),s("li",[s("strong",[t._v("é”™è¯¯ï¼š")]),t._v(" "),s("code",[t._v("useContext(MyContext.Provider)")])])]),t._v(" "),s("p",[t._v("å¦‚æœä½ åœ¨æ¥è§¦ Hook å‰å·²ç»å¯¹ context API æ¯”è¾ƒç†Ÿæ‚‰ï¼Œé‚£åº”è¯¥å¯ä»¥ç†è§£ï¼Œ"),s("code",[t._v("useContext(MyContext)")]),t._v(" å…¶å®ç›¸å½“äº class ç»„ä»¶ä¸­çš„ "),s("code",[t._v("static contextType = MyContext")]),t._v(" æˆ–è€… "),s("code",[t._v("<MyContext.Consumer>")]),t._v("ã€‚")]),t._v(" "),s("p",[s("code",[t._v("useContext(MyContext)")]),t._v(" åªæ˜¯è®©ä½ èƒ½å¤Ÿ"),s("em",[t._v("è¯»å–")]),t._v(" context çš„å€¼ä»¥åŠè®¢é˜… context çš„å˜åŒ–ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ä½ ä»ç„¶éœ€è¦åœ¨ä¸Šå±‚ç»„ä»¶æ ‘ä¸­ä½¿ç”¨")]),t._v(" "),s("code",[t._v("<MyContext.Provider>")]),t._v(" æ¥ä¸ºä¸‹å±‚ç»„ä»¶"),s("em",[t._v("æä¾›")]),t._v(" contextï¼Œè¿™ä¸€æ­¥æ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ğŸ”-usememo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-usememo"}},[t._v("#")]),t._v(" ğŸ” useMemo")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("useMemo")]),t._v(" æ˜¯ä¸€ä¸ªæ€§èƒ½ä¼˜åŒ–é’©å­ï¼Œå®ƒå¯ä»¥ç¼“å­˜ä¸€ä¸ªä»»æ„å€¼ï¼Œå¹¶æŒ‡å®šä¾èµ–ï¼Œåªæœ‰å½“ä¾èµ–å˜äº†ï¼Œå€¼æ‰ä¼šé‡æ–°è·å–ã€‚")])]),t._v(" "),s("p",[s("code",[t._v("useMemo")]),t._v(" é’©å­æ˜¯æ€§èƒ½ä¼˜åŒ–ç›¸å…³çš„é’©å­ï¼Œè¦ç†è§£å®ƒçš„ä½¿ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬å…ˆè¦çœ‹å‡ ä¸ªæ€§èƒ½é—®é¢˜ã€‚")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301132150751.png",alt:"code"}}),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301132150786.gif",alt:"demo"}}),t._v(" "),s("p",[t._v("æˆ‘ä»¬å‡è®¾ä¸Šé¢è¿™æ®µä»£ç ä¸­çš„ "),s("code",[t._v("processiCount")]),t._v(" ä¸­ç»è¿‡äº†å¤§é‡çš„è®¡ç®—æ‰å¾—å‡º "),s("code",[t._v("count")]),t._v(" ï¼Œä½†æ˜¯æ¯æ¬¡ "),s("code",[t._v("time")]),t._v(" æ›´æ–°è¿›è€Œå¼•å‘æ•´ä¸ªç»„ä»¶æ›´æ–°æ—¶ã€‚"),s("code",[t._v("processiCount")]),t._v(" è¿™ä¸ªå‡½æ•°ä½œä¸ºæ˜¾ç¤ºå†…å®¹å°±ä¼šè‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡ï¼Œè¿™åœ¨ä»£ç å±‚é¢æ˜¯åˆä¹æƒ…ç†çš„ï¼Œå› ä¸ºæˆ‘ä»¬å°±æ˜¯è¿™ä¹ˆå†™çš„ã€‚")]),t._v(" "),s("p",[t._v("ä½† "),s("code",[t._v("time")]),t._v(" çš„æ›´æ–°ä¸ "),s("code",[t._v("processiCount")]),t._v(" å¹¶æ²¡æœ‰ç›´æ¥çš„è”ç³»ï¼Œæˆ‘ä»¬æˆ–è®¸æ ¹æœ¬ä¸æƒ³ "),s("code",[t._v("processiCount")]),t._v(" é‡å¤æ‰§è¡Œï¼Œé‚£å°±è¦ä½¿ç”¨ "),s("code",[t._v("useMemo")]),t._v(" Hook æ¥åŒ…è£… "),s("code",[t._v("processiCount")]),t._v(" å‡½æ•°ï¼Œå¦‚ä¸‹é¢è¿™æ®µä¼ªä»£ç ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301132150646.png",alt:"code"}}),t._v(" "),s("p",[s("code",[t._v("useMemo")]),t._v(" çš„ä½œç”¨éå¸¸åƒ"),s("strong",[t._v("ç¼“å­˜")]),t._v("ï¼Œå®ƒå°†ç¬¬ä¸€æ¬¡è·å¾—çš„å€¼å­˜èµ·æ¥ï¼Œåªæœ‰å½“ä¾èµ–æ›´æ–°æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ã€‚")]),t._v(" "),s("h5",{attrs:{id:"è¯·æ³¨æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ³¨æ„"}},[t._v("#")]),t._v(" è¯·æ³¨æ„ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("useMemo")]),t._v(" çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª "),s("code",[t._v("getter")]),t._v(" å‡½æ•°ï¼Œå‡½æ•°ä¸­å¿…é¡»æ˜ç¡®è¿”å›å€¼ï¼Œè¿”å›å€¼å°±æ˜¯ "),s("code",[t._v("useMemo")]),t._v(" çš„è¿”å›å€¼ã€‚")]),t._v(" "),s("li",[s("code",[t._v("useMemo")]),t._v(" çš„ç¬¬äºŒä¸ªå‚æ•°ä»¥æ•°ç»„çš„å½¢å¼å®šä¹‰ä¾èµ–é¡¹ï¼Œåªæœ‰å½“ä¾èµ–é¡¹æ”¹å˜ï¼Œå†…éƒ¨å‡½æ•°æˆ–å€¼æ‰ä¼šé‡æ–°è·å–ã€‚")])]),t._v(" "),s("h5",{attrs:{id:"æ¢ä¸€ç§æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¢ä¸€ç§æ–¹å¼"}},[t._v("#")]),t._v(" æ¢ä¸€ç§æ–¹å¼")]),t._v(" "),s("p",[t._v("æ‰€ä»¥ï¼Œ"),s("code",[t._v("useMemo")]),t._v(" é’©å­ç¡®å®å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨è¿™é‡Œé¿å…ä¸å¿…è¦çš„è®¡ç®—â€¦â€¦ä½†å®ƒ"),s("em",[t._v("çœŸçš„")]),t._v("æ˜¯è¿™é‡Œæœ€å¥½çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ")]),t._v(" "),s("p",[t._v("ä½† "),s("code",[t._v("useMemo")]),t._v(" èƒ½åšåˆ°çš„ï¼Œæˆ‘ä»¬é€šå¸¸å¯ä»¥å°†å…¶å°è£…æˆä¸¤ä¸ªäº’ä¸ç›¸å¹²çš„ç»„ä»¶å³å¯è§£å†³é—®é¢˜ï¼Œå°±åƒè¿™æ®µä¼ªä»£ç ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301022244122.png",alt:"code"}}),t._v(" "),s("p",[t._v("ä½†è¿™ä¹Ÿä¸æ˜¯æœ€ä¼˜è§£ï¼Œå› ä¸ºåœ¨çœŸå®çš„å¼€å‘ä¸­ï¼Œå¾ˆå¤šç»„ä»¶ä¸å¾—ä¸å°†çŠ¶æ€é›†ä¸­åˆ°ä¸€èµ·ï¼Œåˆ†å¼€æ”¾ç½®é€šå¸¸æ˜¯ä¸è¡Œçš„ã€‚")]),t._v(" "),s("p",[t._v("å…¶å®æˆ‘ä»¬å¯ä»¥å°†æŸäº›ç»„ä»¶å®šä¹‰æˆ"),s("strong",[t._v("çº¯ç»„ä»¶(Pure components)")]),t._v("ï¼Œçº¯ç»„ä»¶é€šå¸¸æ„å‘³ç€ï¼š")]),t._v(" "),s("ul",[s("li",[s("h5",{attrs:{id:"ç»„ä»¶çš„è¾“å…¥-åº”è¯¥æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„è¾“å…¥-è¾“å…¥ä¸å˜-è¾“å‡ºæ°¸è¿œä¸å˜ã€‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶çš„è¾“å…¥-åº”è¯¥æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„è¾“å…¥-è¾“å…¥ä¸å˜-è¾“å‡ºæ°¸è¿œä¸å˜ã€‚"}},[t._v("#")]),t._v(" ç»„ä»¶çš„è¾“å…¥ï¼Œåº”è¯¥æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„è¾“å…¥ï¼Œè¾“å…¥ä¸å˜ï¼Œè¾“å‡ºæ°¸è¿œä¸å˜ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("å¯ä»¥ç†è§£ä¸ºè‹¥ç»„ä»¶çš„ "),s("code",[t._v("props")]),t._v(" ä¸å˜ï¼Œé‚£ä¹ˆå®ƒä¸ä¼šå› ä¸ºå…¶ä»–çš„ä¸œè¥¿è€Œé‡æ–°æ¸²æŸ“ï¼Œå®ƒåªå…³æ³¨ "),s("code",[t._v("props")]),t._v(" çš„å˜åŒ–ã€‚")]),t._v(" "),s("li",[t._v("é€šè¿‡ "),s("code",[t._v("React.memo()")]),t._v(" å®šä¹‰çº¯ç»„ä»¶")])])])]),t._v(" "),s("h4",{attrs:{id:"react-memo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-memo"}},[t._v("#")]),t._v(" React.memo")]),t._v(" "),s("blockquote",[s("p",[t._v("React.memo æ˜¯ä¸€ä¸ªæ€§èƒ½ä¼˜åŒ–é’©å­ï¼Œå®ƒçš„ç”¨æ³•ä¸ useMemo å·®ä¸å¤šï¼Œä¸è¿‡ memo æ—¶ç»„ä»¶å±‚é¢çš„ç¼“å­˜ç»„ä»¶ï¼Œä¹Ÿè¢«æˆä¸ºçº¯ç»„ä»¶ã€‚")])]),t._v(" "),s("p",[t._v("ç»“åˆ "),s("code",[t._v("useMemo")]),t._v(" çš„ä¾‹å­ï¼Œæˆ‘ä»¬çŸ¥é“æœ‰æ—¶å€™æ˜¯æ— æ³•åšåˆ°å°†ä¸¤ä¸ªç»„ä»¶å½»åº•åˆ†å¼€çš„ï¼Œå¤§å¤šæ—¶å€™éƒ½éœ€è¦å°†çŠ¶æ€é›†ä¸­ï¼Œè¿™ä¹Ÿæ„å‘³ç€å½“å‰ç»„ä»¶å› ä¸ºæŸäº›å€¼é‡æ–°æ¸²æŸ“æ—¶ä¼šå¯¼è‡´å­ç»„ä»¶ä¹Ÿé‡æ–°æ¸²æŸ“ï¼Œå°±åƒä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301022246260.png",alt:"code"}}),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301022246571.png",alt:"code"}}),t._v(" "),s("p",[t._v("ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œæ¯å½“ "),s("code",[t._v("time")]),t._v(" æ›´æ–°å¼•èµ· "),s("code",[t._v("App")]),t._v(" ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œ"),s("code",[t._v("Counter")]),t._v(" ç»„ä»¶ä¹Ÿä¼šè¢«è¿«é‡æ–°æ¸²æŸ“ï¼Œè€Œä¸”å®ƒæ²¡æœ‰æ›´æ–°ä»»ä½•ä¸œè¥¿ã€‚è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ "),s("code",[t._v("React.memo")]),t._v(" å°†å®ƒå®šä¹‰ä¸ºçº¯ç»„ä»¶ï¼Œå¦‚ä¸‹é¢è¿™æ®µä¼ªä»£ç ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301022247882.png",alt:"code"}}),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("memo")]),t._v(" æ›´å¸¸è§çš„æ˜¯åœ¨å¯¼å‡ºæ—¶å°±å®šä¹‰ï¼Œè€Œä¸æ˜¯åœ¨å¼•å…¥æ—¶å®šä¹‰ï¼š"),s("code",[t._v("export default memo(function xxx ())")])])]),t._v(" "),s("p",[t._v("è¿™æ ·å®šä¹‰åï¼Œæ¯å½“ "),s("code",[t._v("time")]),t._v(" æ›´æ–°æ—¶ï¼Œ"),s("code",[t._v("Counter")]),t._v(" ä¸ä¼šè¢«è¿«é‡æ–°æ¸²æŸ“äº†")]),t._v(" "),s("h5",{attrs:{id:"ä¸€ä¸ª-memo-å¤±æ•ˆçš„åœºæ™¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ä¸ª-memo-å¤±æ•ˆçš„åœºæ™¯"}},[t._v("#")]),t._v(" ä¸€ä¸ª memo å¤±æ•ˆçš„åœºæ™¯")]),t._v(" "),s("p",[t._v("ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ "),s("code",[t._v("memo")]),t._v(" â€œå¤±æ•ˆäº†â€ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301022248846.png",alt:"code"}}),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301022250850.png",alt:"code"}}),t._v(" "),s("p",[t._v("è¿™æ˜¯ä½¿ç”¨åœºæ™¯ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301021749023.gif",alt:"demo"}}),t._v(" "),s("p",[t._v("æˆ‘ä»¬å®šä¹‰äº†ä¸€ç»„ "),s("code",[t._v("styles")]),t._v(" å°†å®ƒä¼ å…¥ "),s("code",[t._v("Boxes")]),t._v(" çº¯ç»„ä»¶ä¸­ã€‚ç†æƒ³çš„æƒ…å†µä¸‹åªæœ‰å½“æˆ‘ä»¬ç§»åŠ¨æ»šè½®æ‰ä¼šè§¦å‘ "),s("code",[t._v("Boxes")]),t._v(" æ¸²æŸ“ã€‚ä½†å¦‚æœæˆ‘ä»¬æ‰“å¼€æ§åˆ¶å°å°±ä¼šçœ‹åˆ° "),s("code",[t._v("Boxes")]),t._v(" ç»„ä»¶å¹¶æ²¡æœ‰åƒæˆ‘ä»¬æƒ³çš„é‚£æ ·æ¸²æŸ“ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301021752510.gif",alt:"demo"}}),t._v(" "),s("p",[t._v("å…¶å®é—®é¢˜å¹¶ä¸å¤æ‚ï¼Œå¹¶ä¸æ˜¯ "),s("code",[t._v("memo")]),t._v(" å¤±æ•ˆäº†ï¼Œè€Œæ˜¯æˆ‘ä»¬å®šä¹‰çš„é‚£ä¸€ç»„ "),s("code",[t._v("styles")]),t._v(" å‡ºé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥æ¥çœ‹åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆäº‹ã€‚")]),t._v(" "),s("ol",[s("li",[t._v("é¦–å…ˆæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª "),s("code",[t._v("styles")]),t._v(" æ•°ç»„ï¼Œå°†å®ƒä¼ å…¥äº† "),s("code",[t._v("<Boxes>")]),t._v(" ä¸­ã€‚\n"),s("ul",[s("li",[t._v("æ•°ç»„æ˜¯å¼•ç”¨å¯¹è±¡ï¼Œè€Œ "),s("code",[t._v("time")]),t._v(" æ¯æ¬¡æ›´æ–°éƒ½ä¼šé‡æ–°å®šä¹‰ "),s("code",[t._v("styles")]),t._v(" æ•°ç»„ï¼Œé‚£ä¹ˆ "),s("code",[t._v("styles")]),t._v(" çš„åœ°å€å…¶å®æ¯ç§’éƒ½åœ¨å˜æ›´ã€‚")])])]),t._v(" "),s("li",[s("code",[t._v("styles")]),t._v(" æ•°ç»„åœ°å€æ¯ç§’éƒ½åœ¨æ›´æ”¹ï¼Œå¯¼è‡´ "),s("code",[t._v("<Boxes>")]),t._v(" æ¯ç§’éƒ½æ¥æ”¶ç€ä¸åŒçš„ "),s("code",[t._v("props")]),t._v("ã€‚")]),t._v(" "),s("li",[s("code",[t._v("<Boxes>")]),t._v(" æ¯ç§’é‡æ–°æ¸²æŸ“ã€‚")])]),t._v(" "),s("p",[t._v("é—®é¢˜å¾ˆå¥½è§£å†³ï¼Œåªéœ€è¦å°† "),s("code",[t._v("styles")]),t._v(" ä½¿ç”¨ "),s("code",[t._v("useMemo")]),t._v(" ç»™ä»–ä¸€ä¸ªä¾èµ–ç¼“å­˜èµ·æ¥å°±è¡Œäº†ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301022253689.png",alt:"code"}}),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301021852786.gif",alt:"demo"}}),t._v(" "),s("h3",{attrs:{id:"ğŸŒ¯-usecallback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ¯-usecallback"}},[t._v("#")]),t._v(" ğŸŒ¯ useCallback")]),t._v(" "),s("blockquote",[s("p",[t._v("useCallback æ˜¯ä¸€ä¸ªæ€§èƒ½ä¼˜åŒ–é’©å­ï¼Œå®ƒå¯ä»¥ç¼“å­˜ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶æŒ‡å®šä¾èµ–ï¼Œåªæœ‰å½“ä¾èµ–å˜æ›´æ—¶ï¼Œæ‰ä¼šé‡æ–°å®šä¹‰å‡½æ•°ã€‚")])]),t._v(" "),s("p",[s("code",[t._v("useCallback")]),t._v(" çš„ä½œç”¨ä¸ "),s("code",[t._v("useMemo")]),t._v(" å·®ä¸å¤šï¼Œä¸è¿‡ "),s("code",[t._v("useMemo")]),t._v(" åœ¨è¯­ä¹‰åŒ–å±‚é¢æ›´åŠ ä¾§é‡ç¼“å­˜"),s("strong",[t._v("å€¼ç±»å‹")]),t._v("ï¼Œ"),s("code",[t._v("useCallback")]),t._v(" ä¾§é‡ç¼“å­˜"),s("strong",[t._v("å‡½æ•°ç±»å‹")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("è¿˜æ˜¯ "),s("code",[t._v("useMemo")]),t._v(" ä¸­çš„ä¾‹å­ï¼Œæˆ‘ä»¬ç»™å­ç»„ä»¶ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä½†ç»„ä»¶ä¸­çš„ "),s("code",[t._v("time")]),t._v(" æ¯ç§’éƒ½åœ¨å˜æ›´ï¼Œé‚£ä¹ˆæ‰€å®šä¹‰çš„å‡½æ•°ä¹Ÿä¼šé‡å¤å®šä¹‰ï¼Œä¸”é‡å¤ä¼ å…¥å­ç»„ä»¶ä¸­ï¼Œä»è€Œå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301022255980.png",alt:"code"}}),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301021955708.gif",alt:"demo"}}),t._v(" "),s("p",[t._v("è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œä½¿ç”¨ "),s("code",[t._v("useCallback")]),t._v(" åŒ…è£¹å‡½æ•°ä½“å³å¯ã€‚")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("useCallback")]),t._v(" ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°æˆ–å‡½æ•°ä½“ï¼Œå®ƒçš„è¿”å›å€¼å°±æ˜¯ä¼ å…¥çš„å‡½æ•°æˆ–å‡½æ•°ä½“")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("useCallback")]),t._v(" ç¬¬äºŒä¸ªå‚æ•°ä»¥æ•°ç»„çš„å½¢å¼å®šä¹‰ä¾èµ–é¡¹ï¼Œåªæœ‰å½“ä¾èµ–é¡¹æ”¹å˜ï¼Œå†…éƒ¨å‡½æ•°æ‰ä¼šé‡æ–°è°ƒç”¨ã€‚")])])]),t._v(" "),s("p",[t._v("ä¸‹é¢æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ³•ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301022300680.png",alt:"code"}}),t._v(" "),s("h3",{attrs:{id:"ğŸ¥Ÿ-useref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¥Ÿ-useref"}},[t._v("#")]),t._v(" ğŸ¥Ÿ "),s("em",[t._v("useRef")])]),t._v(" "),s("p",[s("code",[t._v("useRef")]),t._v(" è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œå…¶ "),s("code",[t._v(".current")]),t._v(" å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•°ï¼ˆ"),s("code",[t._v("initialValue")]),t._v("ï¼‰ã€‚è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…æŒç»­å­˜åœ¨ã€‚")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªå¸¸è§çš„ç”¨ä¾‹ä¾¿æ˜¯å°†ç»„ä»¶æˆ–å…ƒç´ çš„ "),s("code",[t._v("ref")]),t._v(" å®šä¹‰ä¸º "),s("code",[t._v("useRef")]),t._v(" è¿”å›çš„ "),s("code",[t._v("Ref")]),t._v(" å¯¹è±¡ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TextInputWithFocusButton")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" inputEl "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onButtonClick")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// `current` æŒ‡å‘å·²æŒ‚è½½åˆ° DOM ä¸Šçš„æ–‡æœ¬è¾“å…¥å…ƒç´ ")]),t._v("\n        inputEl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("focus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("inputEl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("onButtonClick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Focus the input")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("æœ¬è´¨ä¸Šï¼Œ"),s("code",[t._v("useRef")]),t._v(" å°±åƒæ˜¯å¯ä»¥åœ¨å…¶ "),s("code",[t._v(".current")]),t._v(" å±æ€§ä¸­ä¿å­˜ä¸€ä¸ªå¯å˜å€¼çš„â€œç›’å­â€ã€‚")]),t._v(" "),s("p",[t._v("ä½ åº”è¯¥ç†Ÿæ‚‰ ref è¿™ä¸€ç§"),s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/refs-and-the-dom.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("è®¿é—® DOM"),s("OutboundLink")],1),t._v(" çš„ä¸»è¦æ–¹å¼ã€‚å¦‚æœä½ å°† ref å¯¹è±¡ä»¥ "),s("code",[t._v("<div ref={myRef} />")]),t._v(" å½¢å¼ä¼ å…¥ç»„ä»¶ï¼Œåˆ™æ— è®ºè¯¥èŠ‚ç‚¹å¦‚ä½•æ”¹å˜ï¼ŒReact éƒ½ä¼šå°† ref å¯¹è±¡çš„ "),s("code",[t._v(".current")]),t._v(" å±æ€§è®¾ç½®ä¸ºç›¸åº”çš„ DOM èŠ‚ç‚¹ã€‚")]),t._v(" "),s("p",[t._v("åœ¨ç±»ç»„ä»¶æˆ‘ä»¬éœ€è¦å¼•ç”¨  DOM èŠ‚ç‚¹å¯ä»¥ä½¿ç”¨ "),s("code",[t._v("createRef")]),t._v("ï¼Œ"),s("code",[t._v("useRef")]),t._v(" ä¸ "),s("code",[t._v("createRef")]),t._v(" çš„ç”¨æ³•ä¸€è‡´ï¼Œä½† "),s("code",[t._v("useRef")]),t._v("  å¹¶ä¸å±€é™åœ¨å¼•ç”¨ DOM èŠ‚ç‚¹ä¸Šï¼Œå®ƒå¯ä»¥å¾ˆæ–¹ä¾¿å­˜æ”¾ä»»æ„å€¼çš„å¼•ç”¨ï¼Œä¸”"),s("strong",[t._v("åœ¨ç»„ä»¶æ¸²æŸ“æ—¶ä¿æŒä¸å˜")]),t._v("ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("è¯·è®°ä½ï¼Œå½“ ref å¯¹è±¡å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ"),s("code",[t._v("useRef")]),t._v(" å¹¶"),s("em",[t._v("ä¸ä¼š")]),t._v("é€šçŸ¥ä½ ã€‚å˜æ›´ "),s("code",[t._v(".current")]),t._v(" å±æ€§ä¸ä¼šå¼•å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚å¦‚æœæƒ³è¦åœ¨ React ç»‘å®šæˆ–è§£ç»‘ DOM èŠ‚ç‚¹çš„ ref æ—¶è¿è¡ŒæŸäº›ä»£ç ï¼Œåˆ™éœ€è¦ä½¿ç”¨"),s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node",target:"_blank",rel:"noopener noreferrer"}},[t._v("å›è°ƒ ref"),s("OutboundLink")],1),t._v(" æ¥å®ç°ã€‚")])]),t._v(" "),s("blockquote",[s("p",[t._v("å…³äº "),s("code",[t._v("useRef")]),t._v(" ï¼Œå¯ä»¥å‚è€ƒ React è¿›é˜¶ä¸­çš„ "),s("a",{attrs:{href:"https://bigricerice.github.io/bigRiceRice.io/dist/2023/01/09/react-hight/#%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6-useref",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‡½æ•°ç»„ä»¶ useRef"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"hooks-faq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hooks-faq"}},[t._v("#")]),t._v(" Hooks FAQ")]),t._v(" "),s("h3",{attrs:{id:"é‡‡çº³ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‡‡çº³ç­–ç•¥"}},[t._v("#")]),t._v(" "),s("strong",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#adoption-strategy",target:"_blank",rel:"noopener noreferrer"}},[t._v("é‡‡çº³ç­–ç•¥"),s("OutboundLink")],1)])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#which-versions-of-react-include-hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("å“ªä¸ªç‰ˆæœ¬çš„ React åŒ…å«äº† Hookï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#do-i-need-to-rewrite-all-my-class-components",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘éœ€è¦é‡å†™æ‰€æœ‰çš„ class ç»„ä»¶å—ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#what-can-i-do-with-hooks-that-i-couldnt-with-classes",target:"_blank",rel:"noopener noreferrer"}},[t._v("æœ‰ä»€ä¹ˆæ˜¯ Hook èƒ½åšè€Œ class åšä¸åˆ°çš„ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-much-of-my-react-knowledge-stays-relevant",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘çš„ React çŸ¥è¯†è¿˜æœ‰å¤šå°‘æ˜¯ä»ç„¶æœ‰ç”¨çš„ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#should-i-use-hooks-classes-or-a-mix-of-both",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘åº”è¯¥ä½¿ç”¨ Hookï¼Œclassï¼Œè¿˜æ˜¯ä¸¤è€…æ··ç”¨ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#do-hooks-cover-all-use-cases-for-classes",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hook èƒ½å¦è¦†ç›– class çš„æ‰€æœ‰ä½¿ç”¨åœºæ™¯ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#do-hooks-replace-render-props-and-higher-order-components",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hook ä¼šæ›¿ä»£ render props å’Œé«˜é˜¶ç»„ä»¶å—ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#what-do-hooks-mean-for-popular-apis-like-redux-connect-and-react-router",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hook å¯¹äº Redux connect() å’Œ React Router ç­‰æµè¡Œçš„ API æ¥è¯´ï¼Œæ„å‘³ç€ä»€ä¹ˆï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#do-hooks-work-with-static-typing",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hook èƒ½å’Œé™æ€ç±»å‹ä¸€èµ·ç”¨å—ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-to-test-components-that-use-hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚ä½•æµ‹è¯•ä½¿ç”¨äº† Hook çš„ç»„ä»¶ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#what-exactly-do-the-lint-rules-enforce",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint è§„åˆ™å…·ä½“å¼ºåˆ¶äº†å“ªäº›å†…å®¹ï¼Ÿ"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"ä»-class-è¿ç§»åˆ°-hook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»-class-è¿ç§»åˆ°-hook"}},[t._v("#")]),t._v(" "),s("strong",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#from-classes-to-hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä» Class è¿ç§»åˆ° Hook"),s("OutboundLink")],1)])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-do-lifecycle-methods-correspond-to-hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç”Ÿå‘½å‘¨æœŸæ–¹æ³•è¦å¦‚ä½•å¯¹åº”åˆ° Hookï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-can-i-do-data-fetching-with-hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘è¯¥å¦‚ä½•ä½¿ç”¨ Hook è¿›è¡Œæ•°æ®è·å–ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#is-there-something-like-instance-variables",target:"_blank",rel:"noopener noreferrer"}},[t._v("æœ‰ç±»ä¼¼å®ä¾‹å˜é‡çš„ä¸œè¥¿å—ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#should-i-use-one-or-many-state-variables",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘åº”è¯¥ä½¿ç”¨å•ä¸ªè¿˜æ˜¯å¤šä¸ª state å˜é‡ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#can-i-run-an-effect-only-on-updates",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘å¯ä»¥åªåœ¨æ›´æ–°æ—¶è¿è¡Œ effect å—ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚ä½•è·å–ä¸Šä¸€è½®çš„ props æˆ– stateï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#why-am-i-seeing-stale-props-or-state-inside-my-function",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸ºä»€ä¹ˆæˆ‘ä¼šåœ¨æˆ‘çš„å‡½æ•°ä¸­çœ‹åˆ°é™ˆæ—§çš„ props å’Œ state ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘è¯¥å¦‚ä½•å®ç° getDerivedStateFromPropsï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#is-there-something-like-forceupdate",target:"_blank",rel:"noopener noreferrer"}},[t._v("æœ‰ç±»ä¼¼ forceUpdate çš„ä¸œè¥¿å—ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#can-i-make-a-ref-to-a-function-component",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘å¯ä»¥å¼•ç”¨ä¸€ä¸ªå‡½æ•°ç»„ä»¶å—ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘è¯¥å¦‚ä½•æµ‹é‡ DOM èŠ‚ç‚¹ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#what-does-const-thing-setthing--usestate-mean",target:"_blank",rel:"noopener noreferrer"}},[t._v("const [thing, setThing] = useState() æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"æ€§èƒ½ä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½ä¼˜åŒ–"}},[t._v("#")]),t._v(" "),s("strong",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#performance-optimizations",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ€§èƒ½ä¼˜åŒ–"),s("OutboundLink")],1)])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#can-i-skip-an-effect-on-updates",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘å¯ä»¥åœ¨æ›´æ–°æ—¶è·³è¿‡ effect å—ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#is-it-safe-to-omit-functions-from-the-list-of-dependencies",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨ä¾èµ–åˆ—è¡¨ä¸­çœç•¥å‡½æ•°æ˜¯å¦å®‰å…¨ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#what-can-i-do-if-my-effect-dependencies-change-too-often",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚æœæˆ‘çš„ effect çš„ä¾èµ–é¢‘ç¹å˜åŒ–ï¼Œæˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-do-i-implement-shouldcomponentupdate",target:"_blank",rel:"noopener noreferrer"}},[t._v("æˆ‘è¯¥å¦‚ä½•å®ç° shouldComponentUpdateï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-to-memoize-calculations",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚ä½•è®°å¿†è®¡ç®—ç»“æœï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚ä½•æƒ°æ€§åˆ›å»ºæ˜‚è´µçš„å¯¹è±¡ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#are-hooks-slow-because-of-creating-functions-in-render",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hook ä¼šå› ä¸ºåœ¨æ¸²æŸ“æ—¶åˆ›å»ºå‡½æ•°è€Œå˜æ…¢å—ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-to-avoid-passing-callbacks-down",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚ä½•é¿å…å‘ä¸‹ä¼ é€’å›è°ƒï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-to-read-an-often-changing-value-from-usecallback",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚ä½•ä» useCallback è¯»å–ä¸€ä¸ªç»å¸¸å˜åŒ–çš„å€¼ï¼Ÿ"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"åº•å±‚åŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åº•å±‚åŸç†"}},[t._v("#")]),t._v(" "),s("strong",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#under-the-hood",target:"_blank",rel:"noopener noreferrer"}},[t._v("åº•å±‚åŸç†"),s("OutboundLink")],1)])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-does-react-associate-hook-calls-with-components",target:"_blank",rel:"noopener noreferrer"}},[t._v("React æ˜¯å¦‚ä½•æŠŠå¯¹ Hook çš„è°ƒç”¨å’Œç»„ä»¶è”ç³»èµ·æ¥çš„ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#what-is-the-prior-art-for-hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hook ä½¿ç”¨äº†å“ªäº›ç°æœ‰æŠ€æœ¯ï¼Ÿ"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);