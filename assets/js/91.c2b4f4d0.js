(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{396:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v("JS è¿™é—¨è¯­è¨€ï¼Œåœ¨è®¾è®¡ä¹‹å¤„å°±æ²¡æœ‰æ¨¡å—ä½“ç³»ï¼Œæ‰€ä»¥ä»–ä¼šç»å†æ¨¡å—åŒ–æ¼”å˜ï¼Œç›´åˆ° 2015 å¹´ï¼ŒTC39ï¼ˆä¸€ç¾¤æµè§ˆå™¨å‚å•†ä»£è¡¨ç»„æˆçš„å§”å‘˜ä¼šï¼‰å‘å¸ƒäº† ES6 è§„èŒƒï¼ŒES Modules æ‰è¢«ä¸–äººæ‰€çŸ¥ï¼Œä¹Ÿå°±æ˜¯ ESMã€‚è€Œåœ¨æ¨¡å—åŒ–æ¼”å˜è¿‡ç¨‹ä¸­ï¼Œæ¨¡å—åŒ–æœ¬èº«æš´éœ²çš„é—®é¢˜ä¹Ÿè¶Šæ¥è¶Šæ˜æ˜¾ã€‚")]),t._v(" "),s("p",[t._v("é¡¹ç›®ä¸­çš„æ¨¡å—è¶Šæ¥è¶Šå¤šï¼Œåœ¨ç®¡ç†ä¸Šé€ æˆäº†æ··ä¹±ï¼Œæ‰€ä»¥è¿«åˆ‡éœ€è¦ä¸€äº›å·¥å…·è§£å†³å„ç§æ¨¡å—ç±»å‹æ··ä¹±çš„é—®é¢˜ã€‚Webpack å’Œ Vite ç­‰å·¥å…·å°±æ˜¯ç”¨æ¥è§£å†³è¿™äº›é—®é¢˜çš„ã€‚")]),t._v(" "),s("h2",{attrs:{id:"å…³äº-vite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äº-vite"}},[t._v("#")]),t._v(" å…³äº Vite")]),t._v(" "),s("blockquote",[s("p",[t._v('Viteï¼ˆæ³•è¯­æ„ä¸º "å¿«é€Ÿçš„"ï¼Œå‘éŸ³ '),s("code",[t._v("/vit/")]),t._v('ï¼Œå‘éŸ³åŒ "veet"ï¼‰æ˜¯ä¸€ç§æ–°å‹å‰ç«¯æ„å»ºå·¥å…·ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡å‰ç«¯å¼€å‘ä½“éªŒã€‚')])]),t._v(" "),s("p",[t._v("é€šä¿—çš„æ¥è®²ï¼ŒVite æ˜¯ä¸ Webpack å…·æœ‰åŒæ ·ç”¨é€”çš„"),s("strong",[t._v("å‰ç«¯æ„å»ºå·¥å…·")]),t._v("ï¼ˆé›†æˆäº†é¡¹ç›®æ¨¡æ¿ã€çƒ­æ›´æ–°ã€ä»£ç æ‰“åŒ…ç­‰å¤šç§åŠŸèƒ½çš„å·¥å…·ï¼‰ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯æ„å»ºå·¥å…·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯æ„å»ºå·¥å…·"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯æ„å»ºå·¥å…·")]),t._v(" "),s("p",[t._v("å‡è®¾ä¼ä¸šéœ€è¦å¼€å‘ä¸€ä¸ªæˆç†Ÿçš„å‰ç«¯é¡¹ç›®ï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡ä¼šè¿ç”¨åˆ°ä»¥ä¸‹æŠ€æœ¯æ ˆï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Vue & React")])]),t._v(" "),s("li",[s("code",[t._v("Typescript")])]),t._v(" "),s("li",[s("code",[t._v("Less & Scss")])]),t._v(" "),s("li",[t._v("å„ç§æ–°æŠ€æœ¯......")])]),t._v(" "),s("p",[t._v("å¯æƒœæµè§ˆå™¨å¹¶ä¸è®¤è¯† "),s("code",[t._v("vue & jsx & tsx")]),t._v(" è¿™äº›åç¼€çš„æ–‡ä»¶ï¼Œåªèƒ½é€šè¿‡è§£æå·¥å…·å°†å…¶è½¬æ¢æµè§ˆå™¨èƒ½å¤Ÿè¯†åˆ«çš„ "),s("code",[t._v("js")]),t._v(" æ–‡ä»¶ã€‚")]),t._v(" "),s("p",[t._v("é‚£ä¹ˆæˆ‘å†™å¥½ä¸€ä¸ª "),s("code",[t._v("ts")]),t._v(" æ–‡ä»¶ï¼Œæƒ³è¦åœ¨æµè§ˆå™¨æ­£å¸¸è¿è¡Œï¼Œå°±å¿…é¡»é€šè¿‡ "),s("code",[t._v("tsc")]),t._v(" å‘½ä»¤å°†å…¶è½¬æ¢ä¸º "),s("code",[t._v("js")]),t._v(" æ–‡ä»¶ï¼Œè¿™å¾ˆç®€å• ğŸ˜‰ï¼Œä¸æ˜¯å—ã€‚")]),t._v(" "),s("p",[t._v("ä½†å¦‚æœå†™çš„æ˜¯ "),s("code",[t._v("tsx")]),t._v(" æ–‡ä»¶å‘¢ï¼Ÿæˆ‘ä»¬å°±å¾—åšä»¥ä¸‹"),s("strong",[t._v("ä¸‰")]),t._v("æ­¥è½¬æ¢ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("å…ˆè½¬æ¢ä¸º "),s("code",[t._v("jsx")]),t._v(" æ–‡ä»¶")]),t._v(" "),s("li",[t._v("å†è½¬æ¢ä¸º "),s("code",[t._v("render")]),t._v(" å‡½æ•°")]),t._v(" "),s("li",[t._v("å†å°è£…ä¸º "),s("code",[t._v("js")]),t._v(" æ–‡ä»¶")])]),t._v(" "),s("p",[t._v("å¦‚æœæ¯ä¸€æ¬¡ä¿å­˜éƒ½éœ€è¦æ‰§è¡Œä»¥ä¸Šæµç¨‹æ¥è½¬æ¢ï¼Œé‚£ä¹ˆä½ å°†æ‹¥æœ‰"),s("strong",[t._v("æå…¶ç³Ÿç³•")]),t._v("çš„å¼€å‘ä½“éªŒ ğŸ™„ã€‚")]),t._v(" "),s("p",[t._v("è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€æ ·ä¸œè¥¿ï¼Œå®ƒå¯ä»¥"),s("strong",[t._v("è‡ªåŠ¨")]),t._v("çš„å¸®æˆ‘ä»¬æ‰§è¡Œä»¥ä¸Šæµç¨‹ï¼Œè¿™ä¸ªä¸œè¥¿å°±æ˜¯"),s("strong",[t._v("æ„å»ºå·¥å…·ï¼ˆæ‰“åŒ…å·¥å…·ï¼‰")]),t._v("ï¼Œæ„å»ºå·¥å…·ä½¿ä»£ç èƒ½æ­£å¸¸è¿è¡Œåˆ°çº¿ä¸Šã€‚")]),t._v(" "),s("p",[t._v("ç›®å‰ä¸»æµçš„æ„å»ºå·¥å…·æœ‰ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("em",[s("a",{attrs:{href:"https://www.webpackjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webpack"),s("OutboundLink")],1)])]),t._v(" "),s("ul",[s("li",[t._v("Webpack æ˜¯ä¸€ä¸ªè€ç‰Œçš„æ‰“åŒ…å·¥å…·ï¼Œå…¼å®¹ CommonJS ä¸ ESMã€‚")]),t._v(" "),s("li",[t._v("ç¤¾åŒºæä¾›å„ç§å„æ ·çš„æ’ä»¶ä¸ loaderï¼Œå¯ç©æ€§ã€æ‰©å±•æ€§é«˜")])])]),t._v(" "),s("li",[s("p",[s("em",[s("a",{attrs:{href:"https://vitejs.cn/vite3-cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite"),s("OutboundLink")],1)])]),t._v(" "),s("ul",[s("li",[t._v("Vite æ˜¯ä¸€ä¸ªæ–°å…´çš„å‰ç«¯é¡¹ç›®æ„å»ºå·¥å…·ï¼Œå¼€ç®±å³ç”¨ã€‚")]),t._v(" "),s("li",[t._v("ç¤¾åŒºæä¾›å¤§é‡çš„æ’ä»¶ï¼Œé›†æˆäº† Rollup ä¸ esbuild å®Œæˆå·¥ä½œæµç¨‹ã€‚")])])]),t._v(" "),s("li",[s("p",[s("em",[s("a",{attrs:{href:"https://esbuild.docschina.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("esbuild"),s("OutboundLink")],1)])]),t._v(" "),s("ul",[s("li",[t._v("ä¸€ä¸ªåŸºäº ESMã€ä½¿ç”¨ Go è¯­è¨€æ„å»ºçš„æ‰“åŒ…å·¥å…·ï¼Œæ‰“åŒ…é€Ÿåº¦"),s("strong",[t._v("éå¸¸éå¸¸éå¸¸å¿«")]),t._v("ï¼Œå®ƒè¢«ä½œç”¨åœ¨ Vite çš„ä¾èµ–é¢„æ„å»ºä¸­ã€‚")]),t._v(" "),s("li",[t._v("esbuild åœ¨æŠ¹å¹³äº†ç¬¬ä¸‰æ–¹ä¾èµ–çš„è¯­æ³•å·®å¼‚ï¼ˆç¬¬ä¸‰æ–¹ä¾èµ–ä¸ä¸€å®šæ˜¯ ESM çš„è¯­æ³•ï¼‰çš„åŒæ—¶ï¼Œä¿è¯äº† vite dev çš„å¼€å‘é€Ÿåº¦")])])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://rollupjs.org/introduction/",target:"_blank",rel:"noopener noreferrer"}},[s("em",[t._v("Rollup")]),s("OutboundLink")],1)]),t._v(" "),s("ul",[s("li",[t._v("ä¸€ä¸ªåŸºäº ESM çš„é«˜æ•ˆã€çº¯ç²¹çš„æ‰“åŒ…å·¥å…·ï¼Œå®ƒè¢«ä½œç”¨åœ¨ Vite æ„å»ºç”Ÿäº§ä»£ç ä¸­ï¼ŒåŸç”Ÿ JS å…¼å®¹æ¯” esbuild æ›´ä½³ã€‚")]),t._v(" "),s("li",[t._v("rollup åªä¼šåœ¨ vite build çš„æ—¶å€™æ‰§è¡Œæ„å»ºï¼Œä¸»è¦æ˜¯æ„å»ºç”Ÿäº§ç¯å¢ƒå¯ç¨³å®šä½¿ç”¨çš„åŒ…")])])]),t._v(" "),s("li",[s("p",[t._v("æ›´å¤š .....")])])]),t._v(" "),s("p",[t._v("å¦‚æœå‰ç«¯æ„å»ºå·¥å…·åªæœ‰ä»£ç è½¬æ¢çš„è¯ï¼Œé‚£å°±å¤ªé€Šè¾£ï¼Œå…¶å®æ„å»ºå·¥å…·åœ¨æ‰“åŒ…ä¹‹ä½™è¿˜èƒ½è¿˜èƒ½å®Œæˆä»¥ä¸‹å·¥ä½œï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ¨¡å—åŒ–å…¼å®¹ï¼šæ”¯æŒ"),s("strong",[t._v("å„ç§")]),t._v("è§„èŒƒçš„æ¨¡å—åŒ–å¼€å‘ï¼Œå¯¼å…¥ & å¯¼å‡º")]),t._v(" "),s("li",[t._v("ä»£ç å…¼å®¹æ€§ï¼šä½¿ç”¨ "),s("em",[t._v("Babel")]),t._v(" ç­‰å·¥å…·å®Œæˆ less & Scss & Vue & Jsx ç­‰æ–‡ä»¶çš„"),s("strong",[t._v("è¯­æ³•é™çº§")]),t._v(" & "),s("strong",[t._v("ä»£ç å…¼å®¹")]),t._v(" "),s("ul",[s("li",[t._v("æ³¨æ„ï¼šä»£ç å…¼å®¹æ€§ä¸æ˜¯æ„å»ºå·¥å…·å®Œæˆçš„ï¼Œè€Œæ˜¯å†…ç½®çš„ Babel ç­‰å·¥å…·å®Œæˆçš„")])])]),t._v(" "),s("li",[t._v("æå‡é¡¹ç›®æ€§èƒ½ï¼šæ‰“åŒ…æ–‡ä»¶ä¼˜åŒ–å¤§å°ï¼ˆ"),s("em",[t._v("Tree Shaking")]),t._v("ï¼‰ã€"),s("strong",[t._v("ä»£ç åˆ†å‰²")]),t._v("ç­‰åŠŸèƒ½")]),t._v(" "),s("li",[t._v("ä¼˜åŒ–å¼€å‘ä½“éªŒ\n"),s("ul",[s("li",[t._v("ç±»å¦‚å¼€å¯ä¸€ä¸ªæœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œè§£å†³"),s("strong",[t._v("è·¨åŸŸé—®é¢˜")])]),t._v(" "),s("li",[t._v("åˆæˆ–è€…è‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œè‡ªåŠ¨è°ƒç”¨å·¥å…·æ‰“åŒ…ï¼Œè‡ªåŠ¨çƒ­é‡å¯æœåŠ¡å™¨ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯"),s("strong",[t._v("çƒ­æ›´æ–°")]),t._v("ï¼ˆ"),s("em",[t._v("Hot replacement")]),t._v("ï¼‰")])])])]),t._v(" "),s("h4",{attrs:{id:"æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("p",[t._v("æ„å»ºå·¥å…·å¯ä»¥"),s("strong",[t._v("å‡å°‘æˆ‘ä»¬å¼€å‘æ—¶çš„å¿ƒæ™ºè´Ÿæ‹…ï¼Œä¼˜åŒ–å¼€å‘æ•ˆç‡")]),t._v("ï¼Œå®ƒæ˜¯ä¸€ä¸ªå°†å„ç§å·¥å…·ï¼Œç¬¬ä¸‰åŒ…é›†æˆåˆ°ä¸€å—æœ€åè‡ªåŠ¨è°ƒç”¨çš„æ‰“åŒ…å·¥å…·ã€‚")]),t._v(" "),s("p",[t._v("ä½¿ç”¨æ„å»ºå·¥å…·å¼€å‘é¡¹ç›®ï¼Œä½¿æˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘ä½¿ç”¨ä¸åŒæ¡†æ¶ä¸åŒè¯­æ³•æ„å»ºçš„ä»£ç å¦‚ä½•æ‰èƒ½è¿è¡Œåˆ°æµè§ˆå™¨è¿™ç§é—®é¢˜ï¼Œåªéœ€è¦æœªé…ç½®æ„å»ºå·¥å…·çš„é…ç½®æ–‡ä»¶å³å¯è®©æ„å»ºå·¥å…·è‡ªåŠ¨å·¥ä½œï¼ˆ"),s("code",[t._v("webpack.congif.js")]),t._v(" & "),s("code",[t._v("Vite.config.js")]),t._v("ï¼‰")]),t._v(" "),s("h3",{attrs:{id:"ç›¸è¾ƒäº-webpack-çš„ä¼˜åŠ¿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç›¸è¾ƒäº-webpack-çš„ä¼˜åŠ¿"}},[t._v("#")]),t._v(" ç›¸è¾ƒäº "),s("em",[t._v("Webpack")]),t._v(" çš„ä¼˜åŠ¿")]),t._v(" "),s("p",[t._v("å…¶å® "),s("em",[t._v("Vite")]),t._v(" çš„ä¼˜åŠ¿åœ¨"),s("a",{attrs:{href:"https://vitejs.cn/vite3-cn/guide/why.html#why-bundle-for-production",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜ç½‘"),s("OutboundLink")],1),t._v("å°±æœ‰è¿‡è¿™ä¸ªè®®é¢˜ï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("ç„¶è€Œï¼Œå½“æˆ‘ä»¬å¼€å§‹æ„å»ºè¶Šæ¥è¶Šå¤§å‹çš„åº”ç”¨æ—¶ï¼Œéœ€è¦å¤„ç†çš„ JavaScript ä»£ç é‡ä¹Ÿå‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚åŒ…å«æ•°åƒä¸ªæ¨¡å—çš„å¤§å‹é¡¹ç›®ç›¸å½“æ™®éã€‚åŸºäº JavaScript å¼€å‘çš„å·¥å…·å°±ä¼šå¼€å§‹é‡åˆ°"),s("strong",[t._v("æ€§èƒ½ç“¶é¢ˆ")]),t._v("ï¼šé€šå¸¸éœ€è¦å¾ˆé•¿æ—¶é—´ï¼ˆç”šè‡³æ˜¯å‡ åˆ†é’Ÿï¼ï¼‰æ‰èƒ½å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œå³ä½¿ä½¿ç”¨æ¨¡å—çƒ­æ›¿æ¢ï¼ˆHMRï¼‰ï¼Œæ–‡ä»¶ä¿®æ”¹åçš„æ•ˆæœä¹Ÿéœ€è¦å‡ ç§’é’Ÿæ‰èƒ½åœ¨æµè§ˆå™¨ä¸­åæ˜ å‡ºæ¥ã€‚å¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œè¿Ÿé’çš„åé¦ˆä¼šæå¤§åœ°å½±å“å¼€å‘è€…çš„å¼€å‘æ•ˆç‡å’Œå¹¸ç¦æ„Ÿã€‚")])]),t._v(" "),s("p",[t._v("ä¸Šé¢æåˆ°çš„"),s("strong",[t._v("æ€§èƒ½ç“¶é¢ˆ")]),t._v("æŒ‡çš„å°±æ˜¯ "),s("em",[t._v("Webpack")]),t._v(" åœ¨æ„å»ºå¤§å‹é¡¹ç›®æ—¶å¯åŠ¨æ…¢ï¼Œé‚£ä¹ˆ "),s("em",[t._v("Webpack")]),t._v(" ä¸ºå•¥ä¼šæœ‰æ€§èƒ½ç“¶é¢ˆå‘¢ï¼Ÿè¿™ä¸å¾—ä¸ä» "),s("em",[t._v("Webpack")]),t._v(" çš„æ‰“åŒ…è¿‡ç¨‹è¯´èµ·ï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("Webpack æ‰“åŒ…æµç¨‹å›¾")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301201752735.jpeg",alt:"webpackFlowChart"}})]),t._v(" "),s("p",[t._v("é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ Webpack æ˜¯"),s("strong",[t._v("æ”¯æŒå¤šç§æ¨¡å—åŒ–")]),t._v("ï¼ˆ"),s("em",[t._v("CommonJS & ESM")]),t._v("ï¼‰ï¼Œè¿™æ„å‘³ç€ Webpack å¿…é¡»åœ¨å…¼å®¹æ€§ä¸Šä¸‹å·¥å…·ï¼Œä¸”æ—©æœŸçš„ Webpack èµ·å®¶çš„æ—¶å€™ ESM è§„èŒƒå¹¶æ²¡æœ‰è½åœ°ï¼Œå¯¼è‡´äº†å­˜åœ¨æ€§èƒ½ç“¶é¢ˆé—®é¢˜ï¼ˆåº•å±‚åŸç†èƒ½è¯´æ”¹å°±æ”¹å—ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("Webpack çš„æ‰“åŒ…æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("é€šè¿‡ "),s("code",[t._v("AST")]),t._v(" æŠ½è±¡è¯­æ³•é€’å½’åˆ†æå…¥å£æ–‡ä»¶å¼•ç”¨äº†å“ªäº›é‚£äº›æ–‡ä»¶ï¼Œéšåå°†ä¸åŒçš„è§„èŒƒè½¬æ¢ä¸º Webpack è§„èŒƒï¼Œå¹¶åˆ›å»ºå¥½æ–‡ä»¶ä¾èµ–")]),t._v(" "),s("li",[t._v("æ ¹æ®æ–‡ä»¶ä¾èµ–å°†æ‰€æœ‰æ–‡ä»¶"),s("strong",[t._v("æ‰“åŒ…")])]),t._v(" "),s("li",[t._v("å®ŒæˆæœåŠ¡å™¨å¯åŠ¨")])]),t._v(" "),s("p",[t._v("çƒ­æ›´æ–°é—®é¢˜ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä»¥å½“å‰ä¿®æ”¹çš„æ–‡ä»¶ä¸ºå…¥å£é‡æ–°æ‰“åŒ…ï¼Œæ‰€æœ‰æ¶‰åŠåˆ°çš„ä¾èµ–ä¹Ÿéƒ½ä¼šè¢«é‡æ–°åŠ è½½ä¸€æ¬¡ï¼ˆå¯é€šè¿‡å„ç§å„æ ·çš„ Loader è§£å†³ï¼‰ ğŸ˜±")])]),t._v(" "),s("p",[t._v("å‡è®¾æ˜¯å°é¡¹ç›®è¿˜å¥½ï¼Œç­‰å¾…æ—¶é—´ä¸éœ€è¦å¤ªä¹…ï¼Œä½†å¦‚æœæ˜¯éå¸¸å¤§çš„é¡¹ç›®çš„è¯ï¼Œæ‰“åŒ…éœ€è¦ç­‰å¾…çš„æ—¶é—´å°†éšç€é¡¹ç›®å¤§å°"),s("strong",[t._v("å‘ˆæŒ‡æ•°çº§ä¸Šå‡")]),t._v("ï¼Œæ‰€ä»¥ä½“éªŒéå¸¸ç³Ÿç³•ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå‡è®¾ä¸€ä¸ªè¶…çº§å¤§çš„é¡¹ç›®å‡ºç°äº† bugï¼Œä½ å¼€å¯äº† Webpack çš„çƒ­æ›´æ–°å°è¯•ä¿®æ”¹ bug ï¼Œä½†ä½ æ¯æ¬¡ä¸€ä¿å­˜è§¦å‘çƒ­æ›´æ–°éƒ½è¦ç­‰ä¸Šå‡ åˆ†é’Ÿæˆ–è€…åå‡ åˆ†é’Ÿï¼Œä½“éªŒå°†æ˜¯å¤šä¹ˆç³Ÿç³• ğŸ˜«ã€‚")])]),t._v(" "),s("p",[t._v("é‚£ä¹ˆ Vite ä¼šæœ‰è¿™ç§æƒ…å†µå— ğŸ˜Ÿï¼Ÿ")]),t._v(" "),s("p",[t._v("ç­”æ¡ˆæ˜¯"),s("strong",[t._v("ä¸ ä¼šï¼ğŸ‘Œ")])]),t._v(" "),s("p",[t._v("vite æ³•è¯­æ„ä¸ºâ€œ "),s("em",[t._v("å¿«é€Ÿ")]),t._v(" â€ï¼Œå¦‚æœå®ƒå­˜åœ¨è¿™ç§æ€§èƒ½é—®é¢˜å²‚ä¸æ˜¯è‡ªç ¸æ‹›ç‰Œï¼Ÿå®ƒçš„è§£å†³æ–¹å¼éå¸¸å·§å¦™ï¼Œç”šè‡³å¯ä»¥ç§°å¾—ä¸Šæ˜¯~~"),s("strong",[t._v("ç‹¡çŒ¾")]),t._v("~~ğŸ¤™ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("Vite æ‰“åŒ…æµç¨‹å›¾")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301201809764.png",alt:"ViteFlowChart"}})]),t._v(" "),s("p",[t._v("é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼ŒVite ä½¿ç”¨ "),s("code",[t._v("esbuild")]),t._v(" ï¼ˆèƒŒé  "),s("em",[t._v("ESM")]),t._v(" è§„èŒƒï¼‰ä¸ºåŸºç¡€æ¥å®Œæˆä¾èµ–é¢„æ„å»ºï¼Œå®ƒçš„æ‰“åŒ…æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("ç›´æ¥å¯åŠ¨")]),t._v("ä¸€å°é™æ€é¡µé¢çš„æœåŠ¡å™¨ã€‚")]),t._v(" "),s("li",[t._v("æœåŠ¡å™¨ä¼šæ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚åŠ è½½ä¸åŒçš„æ¨¡å—å¤„ç†ï¼Œå®ç°çœŸæ­£çš„"),s("strong",[t._v("æŒ‰éœ€åŠ è½½")])])]),t._v(" "),s("p",[t._v("çƒ­æ›´æ–°é—®é¢˜ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é‡‡ç”¨ç«‹å³ç¼–è¯‘å½“å‰ä¿®æ”¹æ–‡ä»¶çš„åŠæ³•ï¼ŒåŒæ—¶ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼ˆä¾èµ–é¢„æ„å»ºï¼‰\n"),s("ul",[s("li",[t._v("Vite ä¼šå°†æ‰€æœ‰ä¾èµ–æ–‡ä»¶ä½¿ç”¨ esbuild æ‰“åŒ…ä¸€ä»½æ”¾åˆ° "),s("code",[t._v("node_moduels/.Vite/deps/")]),t._v(" ä¸‹")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("è·Ÿ Webpack åç€æ¥")])]),t._v(" "),s("p",[t._v("æ‰€ä»¥ï¼ŒVite å…·æœ‰äº†"),s("strong",[t._v("å¿«é€Ÿå†·å¯åŠ¨ã€æŒ‰éœ€ç¼–è¯‘ã€æ¨¡å—çƒ­æ›´æ–°")]),t._v("ç­‰ä¼˜è‰¯ç‰¹è´¨")]),t._v(" "),s("h4",{attrs:{id:"æ€»ç»“-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“-2"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("p",[t._v("Webpack ä¸ Vite æœ¬è´¨ä¸Šçš„åŒºåˆ«å°±åœ¨äºã€Œ "),s("strong",[t._v("æŒ‰éœ€åŠ è½½")]),t._v(" ã€ã€‚")]),t._v(" "),s("p",[t._v("Webpack æ— è®ºæ€ä¹ˆæå€¡æŒ‰éœ€åŠ è½½ï¼Œå“ªæ€•åº•å±‚å®Œæˆäº† "),s("em",[t._v("Webpack_Require")]),t._v(" ï¼Œåœ¨ ESM é¢å‰éƒ½æ˜¯"),s("strong",[t._v("å‡çš„æŒ‰éœ€åŠ è½½")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å› ä¸ºåœ¨ ESM ä¹‹å‰æµè§ˆå™¨å¹¶ä¸æ”¯æŒæ¨¡å—åŒ–ï¼Œè€Œ ESM çš„è¯ç”Ÿï¼Œ"),s("strong",[t._v("æ ‡å¿—ç€ Js æœ‰äº†è‡ªå·±çš„æ¨¡å—ä½“ç³»")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("æ‰€ä»¥ Vite çš„"),s("strong",[t._v("å¿«")]),t._v("ä¸€å¤§æ­¥éƒ¨åˆ†æ˜¯åŸºäº ESM è§„èŒƒè½åœ°äº§ç”Ÿçš„çº¢åˆ©ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("ä¸Šé¢çš„éƒ½æ˜¯æˆ‘ä¸ªäººçš„ç†è§£ï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œé‚£ä¹ˆä½ å¯ä»¥å»çœ‹å®˜ç½‘å¯¹äºè¿™ä¸ªé—®é¢˜çš„"),s("a",{attrs:{href:"https://vitejs.cn/vite3-cn/guide/why.html#why-bundle-for-production",target:"_blank",rel:"noopener noreferrer"}},[t._v("å›ç­”"),s("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"ä½ å¿…é¡»äº†è§£çš„-vite-ä¸-create-vite-çš„åŒºåˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½ å¿…é¡»äº†è§£çš„-vite-ä¸-create-vite-çš„åŒºåˆ«"}},[t._v("#")]),t._v(" ä½ å¿…é¡»äº†è§£çš„ "),s("em",[t._v("Vite")]),t._v(" ä¸ "),s("em",[t._v("create-vite")]),t._v(" çš„åŒºåˆ«")]),t._v(" "),s("p",[t._v("å¦‚æœä½ æœ‰è¿‡ Vite é¡¹ç›®çš„å¼€å‘ç»éªŒï¼Œé‚£ä¹ˆä½ ä¸€å®šæ•²è¿‡è¿™ä¸²å‘½ä»¤ï¼š")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" create vite\n")])])]),s("p",[t._v("ä½ å¯èƒ½ä¼šä»¥ä¸ºæ˜¯ Vite æ„å»ºå·¥å…·å¸®æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª Vite é¡¹ç›®ï¼Œä½†å…¶å®ä¸ç„¶ï¼ŒVite å®ƒåªæ˜¯ä¸€ä¸ªæ‰“åŒ…å·¥å…·ï¼Œå®ƒä¸åº”è¯¥æŠŠç±»ä¼¼ "),s("em",[t._v("vue-cli & create-react-app")]),t._v(" è¿™ç±»åˆ›å»ºé¡¹ç›®å·¥ç¨‹æ–‡ä»¶ã€ç”±æ¡†æ¶è„šæ‰‹æ¶åº”è¯¥åšçš„äº‹è‡ªå·±åšåˆ°ï¼Œé‚£å°±æœ¬æœ«å€’ç½®äº†ã€‚")]),t._v(" "),s("p",[t._v("å…¶å®è¿™ä¸²æŒ‡ä»¤ä¼šå¸®æˆ‘ä»¬å®‰è£…ä¸€ä¸ªä¸œè¥¿ï¼Œå«åš "),s("em",[t._v("create-vite")]),t._v(" ï¼ˆç”¨äºåˆ›å»º Vite æ¨¡æ¿é¡¹ç›®çš„è„šæ‰‹æ¶å·¥å…·ï¼‰ï¼Œå¹¶è¿è¡Œ "),s("code",[t._v("bin")]),t._v(" ç›®å½•ä¸‹çš„æŸä¸ªæ‰§è¡Œé…ç½®ã€‚")]),t._v(" "),s("p",[t._v("é‚£ä¹ˆ create-vite ä¸ Vite çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ")]),t._v(" "),s("ul",[s("li",[t._v("create-vite åˆ›å»ºçš„é¡¹ç›®ä¸­å†…ç½®äº† Viteï¼Œå°±åƒ vue-cli & create-react-app ä¸­å†…ç½®äº† Webpack ä¸€æ ·ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"åˆä½“éªŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆä½“éªŒ"}},[t._v("#")]),t._v(" åˆä½“éªŒ")]),t._v(" "),s("p",[t._v("Vite æ˜¯"),s("strong",[t._v("å¼€ç®±å³ç”¨")]),t._v("ï¼ˆ"),s("em",[t._v("out of box")]),t._v("ï¼‰çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦åšä»»ä½•é¢å¤–çš„é…ç½®å³å¯ä½¿ç”¨ Vite å¸®æˆ‘ä»¬å¤„ç†ä¸€äº›å·¥ä½œï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ¯”å¦‚"),s("strong",[t._v("NPM ä¾èµ–è§£æå’Œé¢„æ„å»º")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("é™æ€èµ„æºå¤„ç†ï¼Œå³å¯¼å…¥ä¸€ä¸ª .jpg & .json & .mp4 & .svg æ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨å¤„ç†å¥½ï¼Œç›´æ¥å¯¼å…¥å°±å¯ä½¿ç”¨ã€‚")])]),t._v(" "),s("p",[t._v("ä½•ä¸º"),s("strong",[t._v("NPM ä¾èµ–è§£æ")]),t._v("ï¼Ÿä¸€ä¸ªæœ€ç®€å•çš„æ•ˆæœå°±æ˜¯ Vite ä¼šè‡ªåŠ¨è¡¥å…¨æˆ‘ä»¬åœ¨ "),s("code",[t._v("html")]),t._v(" ä¸­å¼•å…¥çš„æ¨¡å—è·¯å¾„ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š")]),t._v(" "),s("p",[t._v("é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª "),s("em",[t._v("Demo")]),t._v(" ç›®å½•ï¼Œå¹¶åˆå§‹åŒ–é¡¹ç›®ï¼Œéšåæ·»åŠ ä¸€ä¸ª "),s("em",[t._v("lodash")]),t._v(" åŒ…ï¼š")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" Demo\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" init "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" lodash\n")])])]),s("p",[t._v("è¿™æ˜¯ç›®å½•æœ€åçš„ç»“æ„ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Demo\nâ”œâ”€ index.html\nâ”œâ”€ node_modules\nâ”œâ”€ package.json\nâ”œâ”€ src\nâ”‚    â””â”€ main.js\nâ””â”€ yarn.lock\n")])])]),s("p",[t._v("è¿™æ˜¯ html ç»“æ„ï¼š")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token doctype"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),s("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("X-UA-Compatible"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("IE=edge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width, initial-scale=1.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ä½¿ç”¨ ESM æ¨¡å—åŒ–è¯­æ³•å¯¼å…¥ä¸€ä¸ª js æ–‡ä»¶ --\x3e")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./src/main.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("è¿™æ˜¯ main.js ä»£ç ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("å¦‚æœæˆ‘ä»¬åœ¨ index.html ä¸­é€šè¿‡ "),s("em",[t._v("Live Server")]),t._v(" æ‰“å¼€æœåŠ¡å™¨ï¼Œæ§åˆ¶å°å°†ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('Uncaught TypeError: Failed to resolve module specifier "lodash". Relative references must start with either "/", "./", or "../".\n')])])]),s("p",[t._v("è¿™æ˜¯å› ä¸ºåœ¨ "),s("em",[t._v("ESM")]),t._v(" è§„èŒƒä¸­å¯¼å…¥åŒ…åªèƒ½é€šè¿‡ "),s("code",[t._v("/")]),t._v("ã€"),s("code",[t._v("./")]),t._v("ã€"),s("code",[t._v("../")]),t._v(" ç­‰æ–¹å¼æ¥å¯¼å…¥ï¼Œä¸æ”¯æŒè¿™æ ·çš„è£¸æ¨¡å—å¯¼å…¥ï¼Œæ‰€ä»¥å°±æ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œä»è€Œå¼•å‘æŠ¥é”™ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("ESM è®¾è®¡æˆè¿™æ ·æ˜¯æœ‰åŸå› çš„ï¼Œå‡è®¾æ”¯æŒäº†è·¯å¾„è‡ªåŠ¨è¡¥å…¨ï¼Œå°†ä¼šå¼•å‘ä¸€ä¸ªé—®é¢˜ï¼Œå³"),s("strong",[t._v("ç½‘ç»œå¤šåŒ…æ€§èƒ½é—®é¢˜")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å‡è®¾å¼•å…¥æŒ‡å®šçš„åŒ…ä¸­åˆä¾èµ–äº†æ›´å¤šçš„åŒ…ï¼Œé‚£ä¹ˆå°†ä¼šå‘èµ·éå¸¸å¤šçš„ HTTP è¯·æ±‚ï¼Œè¿™å¯èƒ½ä¼šå°†é€ æˆ JS çº¿ç¨‹å µå¡ï¼Œè¿›è€Œå½±å“æ€§èƒ½ã€‚")])])]),t._v(" "),s("p",[t._v("é‚£ä¹ˆæˆ‘ä»¬è‡ªå·±å°†è·¯å¾„è¡¥å…¨ï¼Œè¿˜ä¼šä¸ä¼šæŠ¥é”™å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("è®©æˆ‘ä»¬å°† main.js æ”¹é€ æˆè¿™æ ·å¦‚ä¸‹ä»£ç ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./node_modules/lodash/index.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("æ‰“å¼€æµè§ˆå™¨æŸ¥çœ‹ï¼Œå¾ˆä¸å¹¸ï¼Œè¿˜æ˜¯ä¼šæŠ¥é”™ ğŸ˜£ï¼Œä¸”æŠ¥é”™å†…å®¹å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Uncaught SyntaxError: The requested module './node_modules/lodash/index.js' does not provide an export named 'default'\n")])])]),s("p",[t._v("è§£é‡Šä¸€ä¸‹å°±æ˜¯ lodash/index.js æ–‡ä»¶çš„å¯¼å‡ºæ ¼å¼ä¸æ˜¯ ESM è§„èŒƒï¼Œä½†æµè§ˆå™¨åªæ”¯æŒ ESM è§„èŒƒå¯¼å…¥ï¼Œæ‰€ä»¥æ˜¯ä¸æ”¯æŒå¯¼å…¥è¯¥æ–‡ä»¶çš„ã€‚")]),t._v(" "),s("p",[t._v("é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¯¥ Vite ä¸Šåœºè¡¨æ¼”äº†ï¼ğŸ˜")]),t._v(" "),s("p",[t._v("é¦–å…ˆå®‰è£… Viteï¼š")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" vite\n")])])]),s("p",[t._v("å¹¶å°† main.js æ¢å¤åŸæ ·ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("éšåä½¿ç”¨ "),s("code",[t._v("npx vite")]),t._v(" å¼€å¯æœåŠ¡å™¨ï¼ˆvite ä¼šè‡ªåŠ¨è¯»å–æ ¹ç›®å½•çš„ index.html ä½œä¸º entry å…¥å£æ–‡ä»¶ï¼‰")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301202107469.png",alt:"image-20230120210733411"}})]),t._v(" "),s("p",[t._v("æ‰“å¼€æµè§ˆå™¨æŸ¥çœ‹æ§åˆ¶å°ï¼Œå¯ä»¥çœ‹åˆ° main.js æ­£å¸¸å¯¼å…¥äº† lodash å·¥å…·åŒ…ï¼Œå¤§åŠŸå‘Šæˆäº†ï¼")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301202108902.png",alt:"image-20230120210843859"}})]),t._v(" "),s("p",[t._v("è¿™æ˜¯å› ä¸º Vite çš„ "),s("strong",[t._v("NPM ä¾èµ–è§£æå’Œé¢„æ„å»º")]),t._v("å¸®æˆ‘ä»¬å¤„ç†äº†ä¸¤ä»¶äº‹ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("æŸ¥çœ‹ä¾èµ–æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ esbuild è¿›è¡Œé¢„æ„å»ºå°† CommonJS / UMD è½¬æ¢ä¸º ESM æ ¼å¼")]),t._v(" "),s("li",[t._v("å°†åŸæœ¬çš„å¯¼å…¥åœ°å€é‡å†™ä¸ºåˆæ³•çš„ URLï¼Œæ¯”å¦‚ "),s("code",[t._v("/node_modules/.vite/deps/lodash.js?v=ee7e25ee")]),t._v(" ä»¥ä¾¿æµè§ˆå™¨èƒ½å¤Ÿæ­£ç¡®å¯¼å…¥å®ƒä»¬ã€‚")])]),t._v(" "),s("p",[t._v("å¦‚æœä½ è¶³å¤Ÿç»†å¿ƒï¼ŒæŸ¥çœ‹äº†ä¸€ä¸‹ç½‘ç»œè¯·æ±‚ï¼Œé‚£ä¹ˆç»†å¿ƒçš„ä½ ä¼šçœ‹åˆ°ä¸Šé¢ä¸¤ä»¶äº‹å®Œæˆçš„è¯æ®ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301202142849.png",alt:"image-20230120214208785"}})]),t._v(" "),s("blockquote",[s("p",[t._v("å…³äºè¿™ä¸ªä¾‹å­ï¼Œå®˜ç½‘çš„"),s("a",{attrs:{href:"https://vitejs.cn/vite3-cn/guide/features.html#npm-dependency-resolving-and-pre-bundling",target:"_blank",rel:"noopener noreferrer"}},[t._v("æè¿°"),s("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"å…³äºä¾èµ–é¢„æ„å»º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºä¾èµ–é¢„æ„å»º"}},[t._v("#")]),t._v(" å…³äºä¾èµ–é¢„æ„å»º")]),t._v(" "),s("h3",{attrs:{id:"å‰è¨€-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€-2"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v("å¼€å§‹äº†è§£ä¾èµ–é¢„æ„å»ºä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æ˜ç™½ä¾èµ–é¢„æ„å»ºçš„"),s("strong",[t._v("åŠ¨æœº")]),t._v("ï¼Œæˆ–è€…è¯´å®ƒçš„å­˜åœ¨æ˜¯ä¸ºäº†è§£å†³å“ªäº›é—®é¢˜ã€‚")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬å›åˆ° Vite åˆä½“éªŒä¸­çš„ä¾‹å­ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ lodash/index.js æ–‡ä»¶ä¸­çš„æ¨¡å—åŒ–å¯¼å‡ºè§„èŒƒæ˜¯é‚£ç§ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301202144812.png",alt:"image-20230120214438770"}})]),t._v(" "),s("p",[t._v("å½“æˆ‘ä»¬çœ‹åˆ° "),s("code",[t._v("module.exports")]),t._v(" çš„æ—¶å€™ä¸éš¾çŒœå‡º "),s("code",[t._v("lodash")]),t._v(" çš„æ¨¡å—åŒ–å¯¼å‡ºè§„èŒƒä½¿ç”¨çš„æ˜¯ "),s("em",[t._v("CommonJS")])]),t._v(" "),s("p",[t._v("å†æŸ¥çœ‹ä¸€ä¸‹é¢„æ„å»ºåçš„è¯·æ±‚åœ°å€ï¼ˆå³ "),s("em",[t._v("/node_modules/.vite/deps/")]),t._v("ï¼‰ä¸­çš„ lodash æ–‡ä»¶å†…å®¹")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301202207498.png",alt:"image-20230120220708441"}})]),t._v(" "),s("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼ŒVite å°†å…¶ä»–è§„èŒƒä¸­çš„å¯¼å‡ºæ–‡ä»¶å¤¹ç»è¿‡å°è£…åå¯¼å‡ºäº†ä¸€ä¸ª ESM è§„èŒƒçš„æ–‡ä»¶ã€‚")]),t._v(" "),s("p",[t._v("è¿™å°±æ˜¯ä¾èµ–é¢„æ„å»ºè§£å†³çš„é—®é¢˜ä¹‹ä¸€ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¸åŒæ¨¡å—åŒ–è§„èŒƒä¹‹é—´çš„å¤„ç† â€”â€”> ç»Ÿä¸€ä¸º ESM è§„èŒƒ")])]),t._v(" "),s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯ä¾èµ–é¢„æ„å»ºå‘¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯ä¾èµ–é¢„æ„å»ºå‘¢"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯ä¾èµ–é¢„æ„å»ºå‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("ä¾èµ–é¢„æ„å»ºå°±æ˜¯ Vite ä¼šåœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œæ‰¾åˆ°æ‰€æœ‰ä¾èµ–æ–‡ä»¶ï¼Œå¯¹å…¶åšä¸€å®šçš„å°è£…å"),s("strong",[t._v("è°ƒç”¨ esbuild")]),t._v(" å®Œæˆä¸€æ¬¡ä¾èµ–æ‰“åŒ…ï¼ˆæ„å»ºç”Ÿäº§ä»£ç ä½¿ç”¨çš„æ˜¯ Rollupï¼‰ï¼Œç„¶åå†™å…¥åˆ°å½“å‰æ ¹ç›®å½•ä¸‹çš„ "),s("em",[t._v("/node_modules/.vite/deps/")]),t._v(" ä¸­ï¼Œè¿™ä¸€ä¸ªè¿‡ç¨‹å°±è¢«ç§°ä½œâ€œ"),s("strong",[t._v("ä¾èµ–é¢„æ„å»º")]),t._v("â€ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("esbuild åœ¨å¼€å‘é˜¶æ®µï¼ˆvite devï¼‰ä½¿ç”¨ï¼Œä¸»è¦ç”¨æ¥é¢„ç¼–è¯‘ç¬¬ä¸‰æ–¹ä¾èµ–å’Œç¼–è¯‘ä¸šåŠ¡ä»£ç é‡Œçš„ typescript ä»£ç ã€‚")]),t._v(" "),s("p",[t._v("esbuild åœ¨æŠ¹å¹³äº†ç¬¬ä¸‰æ–¹ä¾èµ–çš„è¯­æ³•å·®å¼‚ï¼ˆç¬¬ä¸‰æ–¹ä¾èµ–ä¸ä¸€å®šæ˜¯ ESM çš„è¯­æ³•ï¼‰çš„åŒæ—¶ï¼Œä¿è¯äº† vite dev çš„å¯åŠ¨é€Ÿåº¦ã€‚")])]),t._v(" "),s("p",[t._v("æ‰€ä»¥å…¶å®é¡¹ç›®ä¸­å¯¼å…¥çš„æ–‡ä»¶åœ¨è¿è¡ŒåçœŸå®åœ°å€éƒ½åœ¨ "),s("code",[t._v(".vite/deps/")]),t._v(" ä¸­å­˜æ”¾ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ä¾èµ–é¢„æ„å»ºä¸»è¦è§£å†³äº†ä»¥ä¸‹ 3 ä¸ªé—®é¢˜ï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("ä¸åŒæ¨¡å—åŒ–è§„èŒƒä¹‹é—´çš„å…¼å®¹é—®é¢˜\n"),s("ul",[s("li",[t._v("è°ƒç”¨ esbuild æ‰“åŒ…è§£å†³")])])]),t._v(" "),s("li",[t._v("è·¯å¾„å¤„ç†é—®é¢˜\n"),s("ul",[s("li",[t._v("å°†æ‰€æœ‰ä¾èµ–æ–‡ä»¶å…¨éƒ¨å°è£…è¿› "),s("em",[t._v(".vite/deps/")]),t._v(" ä¸‹ï¼Œæ–¹ä¾¿çƒ­æ›´æ–°è¯»å–")])])]),t._v(" "),s("li",[t._v("å¤šåŒ…æ€§èƒ½é—®é¢˜\n"),s("ul",[s("li",[t._v("å¯¹ä¾èµ–æ–‡ä»¶çš„å°è£…ç®€åŒ–äº† HTTP è¯·æ±‚çš„æ¬¡æ•°ï¼Œå› ä¸º"),s("strong",[t._v("å¤šåŒ…")]),t._v("å·²ç»è¢«é›†æˆå˜ä¸ºäº†"),s("strong",[t._v("å•åŒ…")])])])])]),t._v(" "),s("blockquote",[s("p",[t._v("ä»¥ä¸Šä¸ºä¸ªäººçš„ç†è§£ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œä½ å¯ä»¥æŸ¥çœ‹å®˜æ–¹å¯¹ä¾èµ–é¢„æ„å»ºçš„"),s("a",{attrs:{href:"https://vitejs.cn/vite3-cn/guide/dep-pre-bundling.html#dependency-pre-bundling",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯´æ˜"),s("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("ç®€å•çœ‹ä¸‹å¤šåŒ…æ€§èƒ½é—®é¢˜")])]),t._v(" "),s("p",[t._v("æˆ‘ä»¬å¯ä»¥é…ç½®æ‰‹åŠ¨å¤ç°å¤šåŒ…æ€§èƒ½é—®é¢˜ï¼Œä»è€Œè¿›ä¸€æ­¥äº†è§£ä¾èµ–é¢„æ„å»ºçš„å¼ºå¤§ ğŸ‘Šã€‚")]),t._v(" "),s("p",[t._v("é¦–å…ˆæ·»åŠ  "),s("em",[t._v("lodash-es")]),t._v(" åŒ…ï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("è¯¥åŒ…ä¸º lodash çš„ ESM è§„èŒƒç‰ˆï¼Œå‡å¦‚ç›´æ¥å¼•å…¥ï¼Œä¼šå°†æ‰€æœ‰å·¥å…·å‡½æ•°ä½œä¸º ESM è§„èŒƒå¼•å…¥")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" loadsh-es\n")])])]),s("p",[t._v("åœ¨ Vite é¡¹ç›®ä¸­å¼•å…¥ "),s("em",[t._v("lodash-es")]),t._v(" ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash-es"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("æ³¨æ„ï¼šæ·»åŠ å¦‚ä¸‹ Vite é…ç½®ï¼Œå¿½ç•¥ä¾èµ–é¢„æ„å»º")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vite.config.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¾èµ–yz'h")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("optimizeDeps")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ’é™¤æ•°ç»„ä¸­çš„åŒ…")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("exclude")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash-es"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("æ‰“å¼€æœåŠ¡å™¨ï¼Œæµ‹è¯•ä¸€ä¸‹ä½ çš„ç½‘é€Ÿæœ‰å¤šå¿« : )")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301202314927.gif",alt:"demo"}}),t._v(" "),s("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼Œç›´æ¥è¯·æ±‚äº† 600+ çš„åŒ…")]),t._v(" "),s("p",[t._v("å¼€å¯ä¾èµ–é¢„æ„å»ºçš„æ•ˆæœå¦‚ä¸‹ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301202316283.png",alt:"image-20230120231659227"}})]),t._v(" "),s("h2",{attrs:{id:"å…³äºè¯­æ³•è¡¥å…¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºè¯­æ³•è¡¥å…¨"}},[t._v("#")]),t._v(" å…³äºè¯­æ³•è¡¥å…¨")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("å¦‚æœä½¿ç”¨çš„æ˜¯ WebStormï¼Œé‚£ä¹ˆä½ å°†å¾—åˆ°å¾ˆå¥½çš„è¯­æ³•è¡¥å…¨")])]),t._v(" "),s("li",[s("p",[t._v("å¦‚æœä½¿ç”¨çš„æ˜¯ VS Codeï¼Œé‚£ä¹ˆéœ€è¦å¦‚ä¸‹é…ç½®æ‰èƒ½è·å¾—è¯­æ³•è¡¥å…¨ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vite.config.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("optimizeDeps")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("exclude")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash-es"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// JsDoc è¯­æ³• - vscode å†…ç½®")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/** @type import("vite").UserConfig */')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("optimizeDeps")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("exclude")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash-es"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),s("h2",{attrs:{id:"å…³äºç¯å¢ƒå¤„ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºç¯å¢ƒå¤„ç†"}},[t._v("#")]),t._v(" å…³äºç¯å¢ƒå¤„ç†")]),t._v(" "),s("p",[t._v("åœ¨ Webpack ä¸­ï¼Œæ ¹æ®ä¸åŒç¯å¢ƒçš„ä¸åŒå¤„ç†éœ€è¦å®šä¹‰å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥ä¸€ä¸ª Webpack é¡¹ç›®æ ¹ç›®å½•ä¸‹å¤§æ¦‚ç‡ä¼šå‡ºç°å¤šä¸ªé…ç½®æ–‡ä»¶ï¼š")]),t._v(" "),s("ol",[s("li",[s("em",[t._v("webpack.config.js")]),t._v("ï¼š"),s("strong",[t._v("é»˜è®¤")]),t._v("é…ç½®æ–‡ä»¶ï¼Œåªæœ‰è¯¥æ–‡ä»¶è¢«"),s("strong",[t._v("é»˜è®¤è°ƒç”¨")]),t._v("çš„ã€‚")]),t._v(" "),s("li",[s("em",[t._v("webpack."),s("strong",[t._v("dev")]),t._v(".config.js")]),t._v("ï¼šå¼€å‘ç¯å¢ƒä¸‹é…ç½®æ–‡ä»¶ï¼Œè¯­ä¹‰åŒ–çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ã€‚")]),t._v(" "),s("li",[s("em",[t._v("webpack."),s("strong",[t._v("prod")]),t._v(".config.js")]),t._v("ï¼šç”Ÿäº§ç¯å¢ƒä¸‹é…ç½®æ–‡ä»¶ï¼Œè¯­ä¹‰åŒ–çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ã€‚")]),t._v(" "),s("li",[s("em",[t._v("webpack."),s("strong",[t._v("base")]),t._v(".config.js")]),t._v("ï¼šä»»ä½•ç¯å¢ƒä¸‹çš„åŸºç¡€é…ç½®æ–‡ä»¶ï¼Œè¯­ä¹‰åŒ–çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ã€‚")]),t._v(" "),s("li",[s("em",[t._v("webpack.xxx.config.js")]),t._v(" ......")])]),t._v(" "),s("p",[t._v("è¿™äº›å¥‡å¥‡æ€ªæ€ªçš„é…ç½®æ–‡ä»¶éƒ½æ˜¯ä¸ºäº†å°†ç¯å¢ƒåŒºåˆ†å¼€æ¥ä»è€Œåœ¨ä¸åŒç¯å¢ƒä¸‹æ‰§è¡Œä¸åŒçš„é…ç½®ï¼Œæ‰€ä»¥ "),s("em",[t._v("package.json")]),t._v(" ä¸­ä¹Ÿéœ€è¦é…ç½®å¤šæ¡å‘½ä»¤ï¼Œæˆ–ä½¿ç”¨ä¸åŒçš„å¤„ç†æ¥å®Œæˆã€‚")]),t._v(" "),s("p",[t._v("è€Œåœ¨ Vite ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…å®šä¹‰å¤šä¸ªé…ç½®æ–‡ä»¶ä¸å®šä¹‰ä¸åŒç¯å¢ƒä¸‹çš„è°ƒç”¨å‘½ä»¤ï¼Œå› ä¸º "),s("code",[t._v("defindeConfig")]),t._v(" ä¼šé»˜è®¤æš´éœ²ç¯å¢ƒæ¨¡å¼å‚æ•°ï¼ˆ"),s("code",[t._v("mode")]),t._v("ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­ "),s("code",[t._v("mode")]),t._v(" çš„å–å€¼æ¥è‡ªåŠ¨æ‰§è¡Œç›¸åº”ç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œæ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š")]),t._v(" "),s("p",[t._v("å®šä¹‰ä¸€ä¸ª "),s("em",[t._v("vite-configs")]),t._v(" ç›®å½•ï¼Œå¹¶åˆ›å»ºå¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("vite-configs\nâ–•â”€â”€ base.js # å…¨å±€çš„é…ç½®æ–‡ä»¶\nâ–•â”€â”€ prod.js # ç”Ÿäº§ç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶\nâ–•â”€â”€ dev.js  # å¼€å‘ç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶\n")])])]),s("p",[t._v("vite.config.js ä»£ç å¦‚ä¸‹")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  vite.config.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" base "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./vite-configs/base.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" prod "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./vite-configs/prod.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" dev "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./vite-configs/dev.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" environments "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("production")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("è°ƒç”¨ç”Ÿäº§ç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("base"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("prod "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("development")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("è°ƒç”¨å¼€å‘ç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("base"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("dev "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" command "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mode    ä¸ºå¼€å‘ç¯å¢ƒï¼Œå–å€¼æœ‰: `production` & `development`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// command ä¸ºå‘½ä»¤ç¯å¢ƒï¼Œå–å€¼æœ‰: `serve`      & `build`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" environments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†æ ¹æ®ç¯å¢ƒè‡ªåŠ¨è°ƒç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œè®©æˆ‘ä»¬è°ƒç”¨çœ‹çœ‹æ•ˆæœå§ã€‚")]),t._v(" "),s("p",[t._v("æ‰§è¡Œ "),s("code",[t._v("npx vite")]),t._v("ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301211124239.png",alt:"image-20230121112435168"}})]),t._v(" "),s("p",[t._v("æ‰§è¡Œ "),s("code",[t._v("npx vite build")]),t._v(" ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301211125134.png",alt:"image-20230121112519085"}})]),t._v(" "),s("h2",{attrs:{id:"å…³äºç¯å¢ƒå˜é‡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºç¯å¢ƒå˜é‡"}},[t._v("#")]),t._v(" å…³äºç¯å¢ƒå˜é‡")]),t._v(" "),s("p",[t._v("ç¯å¢ƒå˜é‡å³æ ¹æ®å½“å‰ä»£ç è¿è¡Œç¯å¢ƒçš„ä¸åŒè€Œå˜åŒ–çš„æŸä¸ªå€¼ï¼Œä¸¾ä¸ªæœ€ç®€å•çš„éœ€æ±‚å§ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é¡¹ç›®åœ¨ development å¼€å‘ç¯å¢ƒä¸­çš„æ ‡é¢˜ä¸º â€œ "),s("em",[t._v("é¡¹ç›®å¼€å‘ä¸­")]),t._v(" â€ï¼Œ")]),t._v(" "),s("li",[t._v("é¡¹ç›®åœ¨ production ç”Ÿäº§ç¯å¢ƒä¸­çš„æ ‡é¢˜ä¸º â€œ "),s("em",[t._v("é¡¹ç›®å·²ä¸Šçº¿")]),t._v(" â€ã€‚")])]),t._v(" "),s("p",[t._v("é‚£ä¹ˆå°±å¯ä»¥å°†è¿™ä¸ªå€¼ç§°ä¸º"),s("strong",[t._v("ç¯å¢ƒå˜é‡")]),t._v("ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("åœ¨æˆ‘ä»¬å¼€å§‹å®ç°éœ€æ±‚å‰ï¼Œå…ˆäº†è§£ä¸€äº›ä¸œè¥¿ã€‚")])]),t._v(" "),s("p",[t._v("é¦–å…ˆä¸€ä¸ªæˆç†Ÿçš„é¡¹ç›®æˆ–è®¸æœ‰ä»¥ä¸‹å‡ ç§ç¯å¢ƒï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å¼€å‘ç¯å¢ƒ")]),t._v(" "),s("li",[t._v("æµ‹è¯•ç¯å¢ƒ")]),t._v(" "),s("li",[t._v("é¢„å‘å¸ƒç¯å¢ƒ")]),t._v(" "),s("li",[t._v("ç°åº¦æµ‹è¯•ç¯å¢ƒ")]),t._v(" "),s("li",[t._v("çº¿ä¸Šç¯å¢ƒ")])]),t._v(" "),s("p",[t._v("é‚£ä¹ˆå¦‚ä½•ç®¡ç†è¿™ä¹ˆå¤šç¯å¢ƒä¸­çš„ç¯å¢ƒå˜é‡å‘¢ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Vite åœ¨ç¯å¢ƒå˜é‡ä¸Šçš„å¤„ç†ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå«åš "),s("em",[t._v("dotenv")]),t._v(" çš„ç¬¬ä¸‰æ–¹åº“ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œdotenv ä¼šè¯»å–å½“å‰å·¥ç¨‹æ ¹ç›®å½•ï¼ˆè°ƒç”¨ "),s("code",[t._v("yarn dev")]),t._v(" æ—¶çš„æ ¹ç›®å½•ï¼‰çš„ä¸€ä¸ªå«åš "),s("code",[t._v(".env")]),t._v(" çš„æ–‡ä»¶ï¼ˆè¯¥æ–‡ä»¶å­˜æ”¾çš„å³æ˜¯å…¨å±€çš„ç¯å¢ƒå˜é‡ï¼‰ï¼Œå¹¶"),s("strong",[t._v("åœ¨æœ€å")]),t._v("å°†å®ƒæŒ‚è½½åˆ° "),s("code",[t._v("process.env")]),t._v(" å±æ€§ä¸­ä¾›æœåŠ¡å™¨ä½¿ç”¨ã€‚")]),t._v(" "),s("blockquote",[s("p",[s("em",[t._v("process")]),t._v(" æ˜¯ Node ä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä»£è¡¨ç€å½“å‰"),s("strong",[t._v("è¿›ç¨‹")]),t._v("ï¼Œ"),s("em",[t._v("process.env")]),t._v(" åˆ™ä»£è¡¨ç€å½“å‰è¿›ç¨‹çš„ç¯å¢ƒå˜é‡")])])])]),t._v(" "),s("p",[t._v("æ¥ä¸‹æ¥è®©æˆ‘ä»¬æ¥å°è¯•å®ç°ä¹‹å‰è¯´çš„çš„éœ€æ±‚ï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª "),s("em",[t._v(".env")]),t._v(" æ–‡ä»¶å¹¶å†™å…¥ä¸€ä¸ª "),s("strong",[t._v("VITE_TITLE")]),t._v(" ç¯å¢ƒå˜é‡ï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("è¿™é‡Œé¡ºä¾¿è¯´ä¸€å˜´ï¼ŒVITE ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡çš„å®šä¹‰ä¹Ÿæ˜¯æœ‰çº¦å®šçš„ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é»˜è®¤æƒ…å†µä¸‹åªæœ‰ä»¥ â€œ"),s("strong",[t._v("VITE_")]),t._v("â€ å¼€å¤´çš„å˜é‡æ‰ä¼šåœ¨å®¢æˆ·ç«¯è¢«æ•è·ï¼Œè®¿é—®æ–¹å¼ä¸ºï¼š"),s("code",[t._v("import.meta.env.{å‚æ•°å}")])])]),t._v(" "),s("li",[s("p",[t._v("æ‰€æœ‰å€¼éƒ½æ˜¯å­—ç¬¦ä¸²")])]),t._v(" "),s("li",[s("p",[t._v("å¯¹äº true / false çš„å€¼ï¼Œæ‹¿åˆ°çš„åªèƒ½æ˜¯ 'true' / 'false 'ï¼Œå¹¶ä¸æ˜¯ boolean å€¼ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦åˆ¤æ–­ xxx === 'true'ã€‚")])])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# .env\nVITE_TITLE = é»˜è®¤æ ‡é¢˜\n")])])]),s("p",[t._v("å¹¶åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰“å° "),s("code",[t._v("process.env")]),t._v(" æŸ¥çœ‹æ˜¯å¦ç¯å¢ƒå˜é‡æ˜¯å¦æ­£å¸¸æŒ‚è½½ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"process.env"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("å¾ˆå¯æƒœï¼Œ"),s("code",[t._v("process.env")]),t._v(" ä¸Šæ˜¯æ‰¾ä¸åˆ° "),s("code",[t._v("VITE_TITLE")]),t._v(" è¿™ä¸ªå±æ€§çš„ï¼Œå¹¶ä¸æ˜¯ dotenv æ²¡æœ‰å·¥ä½œï¼Œè€Œæ˜¯ Vite å‡ºäºæ›´å¤šçš„è€ƒè™‘è€Œæœ‰æ„ä¸ºä¹‹çš„ ã€‚è¿™å…¶ä¸­çš„åŸå› æ˜¯æ¶‰åŠåˆ°äº† Vite ä¸¤ä¸ªå…³äºç¯å¢ƒå˜é‡çš„é…ç½®é¡¹ï¼š")]),t._v(" "),s("ol",[s("li",[s("em",[t._v("root")]),t._v("ï¼šç”¨äºé…ç½® Index.html æ‰€åœ¨ç›®å½•ã€‚")]),t._v(" "),s("li",[s("em",[t._v("envDir")]),t._v("ï¼šç”¨äºé…ç½®ç¯å¢ƒå˜é‡çš„åœ°å€")])]),t._v(" "),s("blockquote",[s("p",[t._v("å› ä¸ºæœ‰äº†ä¸¤ä¸ªé…ç½®é¡¹çš„å­˜åœ¨ï¼Œæˆ‘ä»¬ä¸€å¼€æ—¶è¯»å–çš„ "),s("code",[t._v("process.env")]),t._v(" å¹¶æ²¡æœ‰è¢«ç›´æ¥ä¿®æ”¹ï¼Œå› ä¸ºåç»­çš„é…ç½®é¡¹å¯èƒ½ä¼šå½±å“åˆ°å®ƒï¼ˆä¹Ÿå¯ä»¥ç†è§£ä¸ºè¯»å–"),s("strong",[t._v("æ—©äº†")]),t._v("ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("â€œVite é»˜è®¤æ˜¯ä¸åŠ è½½ "),s("code",[t._v(".env")]),t._v(" æ–‡ä»¶çš„ï¼Œå› ä¸ºè¿™äº›æ–‡ä»¶éœ€è¦åœ¨æ‰§è¡Œå®Œ Vite é…ç½®åæ‰èƒ½ç¡®å®šåŠ è½½å“ªä¸€ä¸ªï¼Œä¸¾ä¸ªä¾‹å­ï¼Œ"),s("code",[t._v("root")]),t._v(" å’Œ "),s("code",[t._v("envDir")]),t._v(" é€‰é¡¹ä¼šå½±å“åŠ è½½è¡Œä¸ºã€‚â€ â€”â€” Vite å®˜ç½‘")])]),t._v(" "),s("p",[t._v("å…¶å®è¯´å›æ¥ "),s("code",[t._v("process.env")]),t._v(" å¯¹æˆ‘ä»¬å¼€å‘ç”¨å¤„ä¸å¤§ï¼Œå› ä¸º Vite å®¢æˆ·ç«¯ç”¨ä¸åˆ°è¿™äº›å‚æ•°ï¼Œä¸” Vite å‘å®¢æˆ·ç«¯æš´éœ²çš„ç¯å¢ƒå˜é‡æ˜¯é€šè¿‡ "),s("code",[t._v("import.meta.env")]),t._v(" æ¥è®¿é—®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦ç®¡ "),s("code",[t._v("process.env")]),t._v("ï¼Œåªéœ€è¦äº†è§£å°±å¥½äº†ã€‚")]),t._v(" "),s("h3",{attrs:{id:"import-meta-env"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-meta-env"}},[t._v("#")]),t._v(" "),s("em",[t._v("import.meta.env")])]),t._v(" "),s("blockquote",[s("p",[s("em",[t._v("import.meta.env")]),t._v(" é»˜è®¤åªæœ‰ 5 ä¸ªå±æ€§ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("BASE_URL")]),t._v("ï¼š{string} éƒ¨ç½²åº”ç”¨æ—¶çš„åŸºæœ¬ URLã€‚ä»–ç”±"),s("a",{attrs:{href:"https://vitejs.cn/vite3-cn/config/shared-options.html#base",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("base")]),t._v(" é…ç½®é¡¹"),s("OutboundLink")],1),t._v("å†³å®šã€‚")]),t._v(" "),s("li",[s("strong",[t._v("DEV")]),t._v("ï¼š{boolean} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨å¼€å‘ç¯å¢ƒ (æ°¸è¿œä¸ "),s("code",[t._v("import.meta.env.PROD")]),t._v("ç›¸å)ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("MODE")]),t._v("ï¼š {string} åº”ç”¨è¿è¡Œçš„"),s("a",{attrs:{href:"https://vitejs.cn/vite3-cn/guide/env-and-mode.html#modes",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¨¡å¼"),s("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("PROD")]),t._v("ï¼š{boolean} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨ç”Ÿäº§ç¯å¢ƒã€‚")]),t._v(" "),s("li",[s("strong",[t._v("SSR")]),t._v("ï¼š{boolean} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨ "),s("a",{attrs:{href:"https://vitejs.cn/vite3-cn/guide/ssr.html#conditional-logic",target:"_blank",rel:"noopener noreferrer"}},[t._v("server"),s("OutboundLink")],1),t._v(" ä¸Šã€‚")]),t._v(" "),s("li",[t._v("ä»¥ "),s("strong",[t._v("VITE_")]),t._v(" å¼€å¤´çš„ç¯å¢ƒå˜é‡......")])])]),t._v(" "),s("p",[t._v("é‚£ä¹ˆå¦‚ä½•å°†ç¯å¢ƒå˜é‡æ·»åŠ è‡³ "),s("code",[t._v("import.meta.env")]),t._v(" ä¾›å®¢æˆ·ç«¯è®¿é—®å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("Vite æä¾›äº†ä¸€ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯ "),s("code",[t._v("loadEnv()")]),t._v(" APIï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨å®ƒæ¥æ‰‹åŠ¨ç¡®è®¤ç¯å¢ƒå˜é‡æ–‡ä»¶çš„ä½ç½®ï¼Œå¹¶æ ¹æ®é…ç½®å•ç‹¬è·å–ç¯å¢ƒå˜é‡ï¼Œéšåè·å–çš„ç¯å¢ƒå˜é‡å°†æ·»åŠ è‡³ "),s("code",[t._v("import.meta.env")]),t._v(" ä¸­ï¼Œæœ€åè¿”å›åŒ¹é…åˆ°çš„ç¯å¢ƒå˜é‡å¯¹è±¡ã€‚")]),t._v(" "),s("blockquote",[s("p",[s("strong",[s("em",[t._v("loadEnv çš„è¯­æ³•")])])]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadEnv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" envDir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prefixes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Record"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("mode")]),t._v("ï¼šå¿…éœ€ï¼Œå½“å‰çš„ç¯å¢ƒæ¨¡å¼ï¼ˆdevelopment & production æˆ–å…¶å®ƒï¼‰")]),t._v(" "),s("li",[s("code",[t._v("envDir")]),t._v("ï¼šå¿…éœ€ï¼Œå½“å‰ç¯å¢ƒå˜é‡æ–‡ä»¶çš„æ ¹ç›®å½•")]),t._v(" "),s("li",[s("code",[t._v("prefixes")]),t._v("ï¼šå¯é€‰ï¼Œæ¥å—çš„ç¯å¢ƒå˜é‡å‰ç¼€ï¼Œé»˜è®¤ä¸º "),s("code",[t._v("VITE_")]),t._v(" "),s("ul",[s("li",[t._v('è‹¥ä¼ å…¥ ""ï¼Œåˆ™è¡¨ç¤ºåŠ è½½æ‰€æœ‰ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­çš„'),s("strong",[t._v("æ‰€æœ‰ç¯å¢ƒå˜é‡")])])])])])]),t._v(" "),s("p",[t._v("è®©æˆ‘ä»¬æ‰¿æ¥ä¸Šæ–‡ï¼Œä½¿ç”¨ loadEnv å¸®æˆ‘ä»¬æ‰¾åˆ°ä¸¢å¤±çš„ "),s("code",[t._v("VITE_TITLE")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("ä¿®æ”¹ "),s("em",[t._v("vite.config.js")]),t._v(" ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loadEnv "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" env "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadEnv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cwd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("å…³äº "),s("code",[t._v("process.cwd()")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("è¿”å›çš„æ˜¯ä¸€ä¸ªè·¯å¾„å­—ç¬¦ä¸²ï¼Œè·¯å¾„çš„å–å€¼æ˜¯è°ƒç”¨ "),s("code",[t._v("yarn dev")]),t._v(" æ—¶å¤„äºçš„"),s("strong",[t._v("å·¥ç¨‹æ ¹ç›®å½•")]),t._v("ã€‚")])])]),t._v(" "),s("p",[t._v("æŸ¥çœ‹æ‰“å°ç»“æœï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301211545692.png",alt:"image-20230121154551620"}})]),t._v(" "),s("p",[t._v("å¯ä»¥çœ‹åˆ°å·²ç»æˆåŠŸè¯»å–åˆ° "),s("code",[t._v("VITE_TITLE")]),t._v(" äº† ğŸ˜ã€‚")]),t._v(" "),s("p",[t._v("é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å®šä¹‰ä¸åŒç¯å¢ƒçš„ç¯å¢ƒå˜é‡æ–‡ä»¶ä¾› loadEnv è¯»å–å‘¢ï¼ŸVite ä¸­åªæœ‰ä»¥ä¸‹ç¯å¢ƒå˜é‡æ–‡ä»¶åæ‰èƒ½æ ¹æ® "),s("code",[t._v("mode")]),t._v(" è¢«è‡ªåŠ¨è¯»å– ï¼š")]),t._v(" "),s("ul",[s("li",[s("em",[t._v(".env")]),t._v("ï¼š"),s("strong",[t._v("å…¨å±€")]),t._v("çš„ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œæ€»æ˜¯ä¼šè¢«è¯»å–ã€‚")]),t._v(" "),s("li",[t._v("*.env."),s("strong",[t._v("development*")]),t._v("ï¼šå¼€å‘ç¯å¢ƒä¸‹è‡ªåŠ¨è¯»å–çš„ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œå°†è¦†ç›– "),s("em",[t._v(".env")]),t._v(" ä¸­é‡å¤çš„å˜é‡ã€‚\n"),s("ul",[s("li",[s("strong",[t._v("ç¼©å†™")]),t._v("ä¸º "),s("em",[t._v(".env.dev")]),t._v(" æ˜¯"),s("strong",[t._v("ä¸ä¼šè‡ªåŠ¨è¯»å–")]),t._v("çš„ã€‚")])])]),t._v(" "),s("li",[t._v("*.env."),s("strong",[t._v("production*")]),t._v("ï¼šç”Ÿäº§ç¯å¢ƒä¸‹è‡ªåŠ¨è¯»å–çš„ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œå°†è¦†ç›– "),s("em",[t._v(".env")]),t._v(" ä¸­é‡å¤çš„å˜é‡ã€‚\n"),s("ul",[s("li",[s("strong",[t._v("ç¼©å†™")]),t._v("ä¸º "),s("em",[t._v(".env.prod")]),t._v(" æ˜¯"),s("strong",[t._v("ä¸ä¼šè‡ªåŠ¨è¯»å–")]),t._v("çš„ã€‚")])])]),t._v(" "),s("li",[s("em",[t._v(".env.xxx")]),t._v("ï¼šè‡ªå®šä¹‰çš„ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œè‹¥éœ€è¦è¯»å–è‡ªå®šä¹‰ï¼Œé‚£ä¹ˆ "),s("em",[t._v("mode")]),t._v(" æ¨¡å¼ä¹Ÿè¦ä¸ºè‡ªå®šä¹‰ã€‚\n"),s("ul",[s("li",[t._v("å¯é€šè¿‡ä¿®æ”¹ "),s("code",[t._v("yarn dev --mode xxx")]),t._v(" çš„æ–¹å¼ä¿æŒè‡ªåŠ¨è¯»å–ï¼Œå› ä¸º loadEnv æ˜¯æ ¹æ® mode è¯»å–æ–‡ä»¶åçš„ ğŸ˜‰")])])])]),t._v(" "),s("p",[t._v("å¥½çš„ï¼Œå›åˆ°æœ€å¼€å§‹çš„éœ€æ±‚ï¼Œåœ¨æ ¹ç›®å½•ä¸‹å®šä¹‰ "),s("em",[t._v(".env.development")]),t._v(" æ–‡ä»¶ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# .env.development\nVITE_TITLE = é¡¹ç›®å¼€å‘ä¸­\n")])])]),s("p",[t._v("å®šä¹‰ "),s("em",[t._v(".env.production")]),t._v(" æ–‡ä»¶ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# .env.production\nVITE_TITLE = é¡¹ç›®å·²ä¸Šçº¿\n")])])]),s("p",[t._v("å…ˆæµ…æµ…çš„è·‘ä¸€ä¸‹ä¸åŒçš„ç¯å¢ƒæŸ¥çœ‹å˜é‡è·å–çš„æ˜¯å¦æ­£ç¡®å§ ğŸ’…ï¼š")]),t._v(" "),s("p",[t._v("å¼€å‘ç¯å¢ƒä¸‹ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301211615548.png",alt:"image-20230121161500483"}}),t._v(" "),s("p",[t._v("ç”Ÿäº§ç¯å¢ƒä¸‹ï¼š")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301211615054.png",alt:"image-20230121161549994"}}),t._v(" "),s("p",[t._v("æ‰“å°è¾“å‡ºæ­£ç¡® ğŸ‘Œã€‚")]),t._v(" "),s("p",[t._v("æœ€åè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª html ä¸ index.html æ–‡ä»¶ï¼Œå®ç°éœ€æ±‚å§ï¼")]),t._v(" "),s("p",[t._v("è¿™æ˜¯ç›®å½•ç»“æ„ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Demo\nâ”œâ”€ index.html\nâ”œâ”€ node_modules\nâ”œâ”€ package.json\nâ”œâ”€ main.js\nâ”œâ”€ vite.config.js\nâ””â”€ yarn.lock\n")])])]),s("p",[t._v("html æ–‡ä»¶å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token doctype"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),s("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./main.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("main.js ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("meta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VITE_TITLE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("è¿™æ˜¯ vite.config.js é…ç½®æ–‡ä»¶ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loadEnv "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" command "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadEnv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cwd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("package.json ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"main"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite --mode development --open"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"prod"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite --mode production --open"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite build"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dependencies"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vite"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.0.4"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¼€å¯é¡¹ç›®æŸ¥çœ‹ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301211653849.gif",alt:"demo"}})]),t._v(" "),s("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼Œéœ€æ±‚å®ç°äº†ã€‚")]),t._v(" "),s("p",[t._v("é‚£ä¹ˆåˆ°è¿™é‡Œå°±å¯ä»¥ä»‹ç»ä¸€ä¸ªé…ç½®é¡¹äº†ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[s("em",[t._v("envPrefix")])]),t._v("ï¼šè®¾ç½®å½“å‰ç¯å¢ƒå˜é‡çš„"),s("strong",[t._v("å–å€¼å‰ç¼€")]),t._v("ï¼ŒåŒ loadEnv ä¸­çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚")])]),t._v(" "),s("p",[t._v("å‡å¦‚æˆ‘ä»¬é¡¹ç›®æœ‰è¿™æ ·çš„è§„èŒƒï¼Œå¼€å‘ç¯å¢ƒä¸­çš„ç¯å¢ƒå˜é‡ä½¿ç”¨ _DEV__ å‰ç¼€å¼€å¤´ï¼Œç”Ÿäº§ç¯å¢ƒä¸­çš„ç¯å¢ƒå˜é‡ä½¿ç”¨ _PROD__ å‰ç¼€å¼€å¤´ã€‚")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨ "),s("em",[t._v("vite.dev.config")]),t._v(" ä¸­å®šä¹‰ "),s("code",[t._v("envPrefix")]),t._v(" ä¸º â€œ"),s("strong",[t._v("DEV_")]),t._v("â€ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("åœ¨ "),s("em",[t._v("vite.prod.config")]),t._v(" ä¸­å®šä¹‰ "),s("code",[t._v("envPrefix")]),t._v(" ä¸º â€œ"),s("strong",[t._v("PROD_")]),t._v("â€ã€‚")])])]),t._v(" "),s("h4",{attrs:{id:"å…³äº-loadenv-çš„ç»†èŠ‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äº-loadenv-çš„ç»†èŠ‚"}},[t._v("#")]),t._v(" å…³äº loadEnv çš„ç»†èŠ‚")]),t._v(" "),s("p",[t._v("å½“æˆ‘ä»¬è°ƒç”¨ loadEnv åï¼Œä¼šåšä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("ç›´æ¥æ‰¾åˆ° .env æ–‡ä»¶ï¼Œå¹¶è§£æå…¶ä¸­çš„ç¯å¢ƒå˜é‡ï¼Œå­˜æ”¾åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­")]),t._v(" "),s("li",[t._v("å°†ä¼ è¿›æ¥çš„ "),s("code",[t._v("mode")]),t._v(" å€¼æ‹¼æ¥åä½œä¸ºæŸ¥è¯¢çš„æ–‡ä»¶ï¼Œè¯­æ³•ä¸º "),s("code",[t._v(".env.[mode]")]),t._v("ï¼Œå¹¶æ ¹æ®ä¼ å…¥çš„ç›®å½•æŸ¥æ‰¾è¿™ä¸ª "),s("code",[t._v(".env.[mode]")]),t._v(" æ–‡ä»¶å­˜å…¥ä¸€ä¸ªå¯¹è±¡")]),t._v(" "),s("li",[t._v("æœ€åå°†ä¸¤ä¸ªå¯¹è±¡åˆå¹¶")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ä¹Ÿå¯ä»¥è¿™æ ·ç†è§£ï¼š")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("findAndParse")]),t._v(" æ˜¯ä¸€ä¸ªè™šæ„çš„å‡½æ•°")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬ä¸€æ­¥")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" baseEnv "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAndParse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".env"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬äºŒæ­¥")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" modeEnv "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAndParse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(".env.")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("mode"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬ä¸‰æ­¥")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" env "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("baseEnv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("modeEnv "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),s("p",[t._v("æ­£æ˜¯å› ä¸º "),s("code",[t._v("mode")]),t._v(" å¯ä»¥å½±å“åˆ°è·å–çš„æ–‡ä»¶ï¼Œè¿™æ‰æ”¯æŒäº†å¤šç§ç¯å¢ƒå˜é‡æ–‡ä»¶çš„å­˜åœ¨ï¼Œå‡å¦‚æˆ‘æœ‰ä¸€ä¸ª "),s("code",[t._v(".env.test")]),t._v(" ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘è¦å°†å®ƒæ·»åŠ åˆ° "),s("code",[t._v("import.meta.env")]),t._v(" ä¸­ï¼Œæˆ‘å°±è¦è¿™æ ·å¯åŠ¨é¡¹ç›®ï¼š")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" dev "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--mode")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n")])])]),s("h2",{attrs:{id:"å‚è€ƒæ–‡ç« -è§†é¢‘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡ç« -è§†é¢‘"}},[t._v("#")]),t._v(" å‚è€ƒæ–‡ç«  & è§†é¢‘")]),t._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://www.bilibili.com/video/BV1GN4y1M7P5/?spm_id_from=333.337.search-card.all.click&vd_source=8d08e7af2575a84783be5a41708ac09e",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite ä¸–ç•ŒæŒ‡å—ï¼ˆå¸¦ä½ ä» 0 åˆ° 1 æ·±å…¥å­¦ä¹  viteï¼‰"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://www.w3cschool.cn/article/b6e4e9c41df734.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æµè§ˆå™¨ã€ESM è§„èŒƒã€æ¨¡å—åŒ–ã€webpack å’Œ vite ä¹‹é—´è”ç³»ï¼Ÿ"),s("OutboundLink")],1)])])])])}),[],!1,null,null,null);s.default=e.exports}}]);